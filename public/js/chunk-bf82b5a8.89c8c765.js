(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf82b5a8"],{"25a5":function(t,e,i){!function(e,i){t.exports=i()}(0,(function(){"use strict";function t(t,n,r,o,a){!function t(i,n,r,o,a){for(;o>r;){if(o-r>600){var s=o-r+1,h=n-r+1,l=Math.log(s),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(s-c)/s)*(h-s/2<0?-1:1),f=Math.max(r,Math.floor(n-h*c/s+u)),p=Math.min(o,Math.floor(n+(s-h)*c/s+u));t(i,n,f,p,a)}var d=i[n],_=r,g=o;for(e(i,r,n),a(i[o],d)>0&&e(i,r,o);_<g;){for(e(i,_,g),_++,g--;a(i[_],d)<0;)_++;for(;a(i[g],d)>0;)g--}0===a(i[r],d)?e(i,r,g):e(i,++g,o),g<=n&&(r=g+1),n<=g&&(o=g-1)}}(t,n,r||0,o||t.length-1,a||i)}function e(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function i(t,e){return t<e?-1:t>e?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,i,n,r){r||(r=d(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=e;o<i;o++){var a=t.children[o];s(r,t.leaf?n(a):a)}return r}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(e,i,n,r,o){for(var a=[i,n];a.length;)if(!((n=a.pop())-(i=a.pop())<=r)){var s=i+Math.ceil((n-i)/r/2)*r;t(e,s,i,n,o),a.push(i,s,s,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var e=this.data,i=[];if(!p(t,e))return i;for(var n=this.toBBox,r=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?n(a):a;p(t,s)&&(e.leaf?i.push(a):f(t,s)?this._all(a,i):r.push(a))}e=r.pop()}return i},n.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var i=[];e;){for(var n=0;n<e.children.length;n++){var r=e.children[n],o=e.leaf?this.toBBox(r):r;if(p(t,o)){if(e.leaf||f(t,o))return!0;i.push(r)}}e=i.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=d([]),this},n.prototype.remove=function(t,e){if(!t)return this;for(var i,n,o,a=this.data,s=this.toBBox(t),h=[],l=[];a||h.length;){if(a||(a=h.pop(),n=h[h.length-1],i=l.pop(),o=!0),a.leaf){var c=r(t,a.children,e);if(-1!==c)return a.children.splice(c,1),h.push(a),this._condense(h),this}o||a.leaf||!f(a,s)?n?(i++,a=n.children[i],o=!1):a=null:(h.push(a),l.push(i),i=0,n=a,a=a.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,e){return t.minX-e.minX},n.prototype.compareMinY=function(t,e){return t.minY-e.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},n.prototype._build=function(t,e,i,n){var r,a=i-e+1,s=this._maxEntries;if(a<=s)return o(r=d(t.slice(e,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(r=d([])).leaf=!1,r.height=n;var h=Math.ceil(a/s),l=h*Math.ceil(Math.sqrt(s));_(t,e,i,l,this.compareMinX);for(var c=e;c<=i;c+=l){var u=Math.min(c+l-1,i);_(t,c,u,h,this.compareMinY);for(var f=c;f<=u;f+=h){var p=Math.min(f+h-1,u);r.children.push(this._build(t,f,p,n-1))}}return o(r,this.toBBox),r},n.prototype._chooseSubtree=function(t,e,i,n){for(;n.push(e),!e.leaf&&n.length-1!==i;){for(var r=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var h=e.children[s],l=c(h),u=(f=t,p=h,(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-l);u<o?(o=u,r=l<r?l:r,a=h):u===o&&l<r&&(r=l,a=h)}e=a||e.children[0]}var f,p;return e},n.prototype._insert=function(t,e,i){var n=i?t:this.toBBox(t),r=[],o=this._chooseSubtree(n,this.data,e,r);for(o.children.push(t),s(o,n);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(n,r,e)},n.prototype._split=function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var a=this._chooseSplitIndex(i,r,n),s=d(i.children.splice(a,i.children.length-a));s.height=i.height,s.leaf=i.leaf,o(i,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(i,s)},n.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,e,i){for(var n,r,o,s,h,l,u,f=1/0,p=1/0,d=e;d<=i-e;d++){var _=a(t,0,d,this.toBBox),g=a(t,d,i,this.toBBox),y=(r=_,o=g,s=void 0,h=void 0,l=void 0,u=void 0,s=Math.max(r.minX,o.minX),h=Math.max(r.minY,o.minY),l=Math.min(r.maxX,o.maxX),u=Math.min(r.maxY,o.maxY),Math.max(0,l-s)*Math.max(0,u-h)),v=c(_)+c(g);y<f?(f=y,n=d,p=v<p?v:p):y===f&&v<p&&(p=v,n=d)}return n||i-e},n.prototype._chooseSplitAxis=function(t,e,i){var n=t.leaf?this.compareMinX:h,r=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,r)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,e,i,n){t.children.sort(n);for(var r=this.toBBox,o=a(t,0,e,r),h=a(t,i-e,i,r),l=u(o)+u(h),c=e;c<i-e;c++){var f=t.children[c];s(o,t.leaf?r(f):f),l+=u(o)}for(var p=i-e-1;p>=e;p--){var d=t.children[p];s(h,t.leaf?r(d):d),l+=u(h)}return l},n.prototype._adjustParentBBoxes=function(t,e,i){for(var n=i;n>=0;n--)s(e[n],t)},n.prototype._condense=function(t){for(var e=t.length-1,i=void 0;e>=0;e--)0===t[e].children.length?e>0?(i=t[e-1].children).splice(i.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},n}))},"29f6":function(t,e,i){"use strict";e["a"]={POINT:"point",LINE:"line"}},"3e6b":function(t,e,i){"use strict";var n=i("1af9"),r=i("25a5"),o=i.n(r),a=i("38f3"),s=i("6c77"),h=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l={RENDER_ORDER:"renderOrder"},c=function(t){function e(e){var i=this,n=e||{},r=Object(a["a"])({},n);return delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,i=t.call(this,r)||this,i.declutter_=void 0!==n.declutter&&n.declutter,i.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,i.style_=null,i.styleFunction_=void 0,i.setStyle(n.style),i.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,i.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,i}return h(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(l.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new o.a(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(l.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:s["a"],this.styleFunction_=null===t?void 0:Object(s["c"])(this.style_),this.changed()},e}(n["a"]),u=c,f={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},p=[f.FILL],d=[f.STROKE],_=[f.BEGIN_PATH],g=[f.CLOSE_PATH],y=f,v=i("045d"),m=function(){function t(){}return t.prototype.drawCustom=function(t,e,i,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),x=m,S=i("e98d"),O=i("0af5"),b=i("ddea"),C=i("9f5e"),I=i("bb6c"),E=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),T=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=i,o.pixelRatio=r,o.maxLineWidth=0,o.resolution=n,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return E(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,r=this.coordinates,o=r.length,a=0,s=t.length;a<s;a+=e)n[0]=t[a],n[1]=t[a+1],Object(O["f"])(i,n)&&(r[o++]=n[0],r[o++]=n[1]);return o},e.prototype.appendFlatLineCoordinates=function(t,e,i,n,r,o){var a=this.coordinates,s=a.length,h=this.getBufferedMaxExtent();o&&(e+=n);var l,c,u,f=t[e],p=t[e+1],d=this.tmpCoordinate_,_=!0;for(l=e+n;l<i;l+=n)d[0]=t[l],d[1]=t[l+1],u=Object(O["i"])(h,d),u!==c?(_&&(a[s++]=f,a[s++]=p,_=!1),a[s++]=d[0],a[s++]=d[1]):u===v["a"].INTERSECTING?(a[s++]=d[0],a[s++]=d[1],_=!1):_=!0,f=d[0],p=d[1],c=u;return(r&&_||l===e+n)&&(a[s++]=f,a[s++]=p),s},e.prototype.drawCustomCoordinates_=function(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){var s=i[o],h=this.appendFlatLineCoordinates(t,e,s,n,!1,!1);r.push(h),e=s}return e},e.prototype.drawCustom=function(t,e,i,n){this.beginGeometry(t,e);var r,o,a,s,h,l=t.getType(),c=t.getStride(),u=this.coordinates.length;switch(l){case"MultiPolygon":r=t.getOrientedFlatCoordinates(),s=[];var f=t.getEndss();h=0;for(var p=0,d=f.length;p<d;++p){var _=[];h=this.drawCustomCoordinates_(r,h,f[p],c,_),s.push(_)}this.instructions.push([y.CUSTOM,u,s,t,i,I["c"]]),this.hitDetectionInstructions.push([y.CUSTOM,u,s,t,n||i,I["c"]]);break;case"Polygon":case"MultiLineString":a=[],r="Polygon"==l?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),h=this.drawCustomCoordinates_(r,0,t.getEnds(),c,a),this.instructions.push([y.CUSTOM,u,a,t,i,I["b"]]),this.hitDetectionInstructions.push([y.CUSTOM,u,a,t,n||i,I["b"]]);break;case"LineString":case"Circle":r=t.getFlatCoordinates(),o=this.appendFlatLineCoordinates(r,0,r.length,c,!1,!1),this.instructions.push([y.CUSTOM,u,o,t,i,I["a"]]),this.hitDetectionInstructions.push([y.CUSTOM,u,o,t,n||i,I["a"]]);break;case"MultiPoint":r=t.getFlatCoordinates(),o=this.appendFlatPointCoordinates(r,c),o>u&&(this.instructions.push([y.CUSTOM,u,o,t,i,I["a"]]),this.hitDetectionInstructions.push([y.CUSTOM,u,o,t,n||i,I["a"]]));break;case"Point":r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),o=this.coordinates.length,this.instructions.push([y.CUSTOM,u,o,t,i]),this.hitDetectionInstructions.push([y.CUSTOM,u,o,t,n||i]);break;default:}this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[y.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[y.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,n,r=e.length,o=-1;for(t=0;t<r;++t)i=e[t],n=i[0],n==y.END_GEOMETRY?o=t:n==y.BEGIN_GEOMETRY&&(i[2]=t,Object(C["g"])(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var n=t.getColor();i.fillStyle=Object(S["a"])(n||b["b"])}else i.fillStyle=void 0;if(e){var r=e.getColor();i.strokeStyle=Object(S["a"])(r||b["k"]);var o=e.getLineCap();i.lineCap=void 0!==o?o:b["d"];var a=e.getLineDash();i.lineDash=a?a.slice():b["e"];var s=e.getLineDashOffset();i.lineDashOffset=s||b["f"];var h=e.getLineJoin();i.lineJoin=void 0!==h?h:b["g"];var l=e.getWidth();i.lineWidth=void 0!==l?l:b["h"];var c=e.getMiterLimit();i.miterLimit=void 0!==c?c:b["i"],i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,i=[y.SET_FILL_STYLE,e];return"string"!==typeof e&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[y.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var i=t.fillStyle;"string"===typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,n=t.lineCap,r=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=n||r!=t.currentLineDash&&!Object(C["a"])(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=h)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=h)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[y.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(O["d"])(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(O["c"])(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(x),w=T,R=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),D=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterMode_=void 0,o.declutterImageWithText_=void 0,o}return R(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(i,n);this.instructions.push([y.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([y.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(i,n);this.instructions.push([y.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([y.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),n=t.getSize(),r=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=n[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e},e}(w),A=D,k=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),F=function(t){function e(e,i,n,r){return t.call(this,e,i,n,r)||this}return k(e,t),e.prototype.drawFlatCoordinates_=function(t,e,i,n){var r=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,i,n,!1,!1),a=[y.MOVE_TO_LINE_TO,r,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i},e.prototype.drawLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([y.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,b["e"],b["f"]],_);var o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(d),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([y.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],_);for(var o=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),h=0,l=0,c=o.length;l<c;++l)h=this.drawFlatCoordinates_(a,h,o[l],s);this.hitDetectionInstructions.push(d),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(d),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(d),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(_)},e}(w),L=F,j=i("1c48"),M=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),P=function(t){function e(e,i,n,r){return t.call(this,e,i,n,r)||this}return M(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,i,n){var r=this.state,o=void 0!==r.fillStyle,a=void 0!==r.strokeStyle,s=i.length;this.instructions.push(_),this.hitDetectionInstructions.push(_);for(var h=0;h<s;++h){var l=i[h],c=this.coordinates.length,u=this.appendFlatLineCoordinates(t,e,l,n,!0,!a),f=[y.MOVE_TO_LINE_TO,c,u];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(g),this.hitDetectionInstructions.push(g)),e=l}return o&&(this.instructions.push(p),this.hitDetectionInstructions.push(p)),a&&(this.instructions.push(d),this.hitDetectionInstructions.push(d)),e},e.prototype.drawCircle=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([y.SET_FILL_STYLE,b["b"]]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([y.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,a,!1,!1);var h=[y.CIRCLE,s];this.instructions.push(_,h),this.hitDetectionInstructions.push(_,h),void 0!==i.fillStyle&&(this.instructions.push(p),this.hitDetectionInstructions.push(p)),void 0!==i.strokeStyle&&(this.instructions.push(d),this.hitDetectionInstructions.push(d)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([y.SET_FILL_STYLE,b["b"]]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([y.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,o,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([y.SET_FILL_STYLE,b["b"]]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([y.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var o=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),h=0,l=0,c=o.length;l<c;++l)h=this.drawFlatCoordinatess_(a,h,o[l],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var i=this.coordinates,n=0,r=i.length;n<r;++n)i[n]=Object(j["c"])(i[n],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state,e=t.fillStyle;void 0!==e&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(w),G=P,B=i("29f6"),W=i("1300");function Y(t,e,i,n,r){var o,a,s,h,l,c,u,f,p,d,_=i,g=i,y=0,v=0,m=i;for(a=i;a<n;a+=r){var x=e[a],S=e[a+1];void 0!==l&&(p=x-l,d=S-c,h=Math.sqrt(p*p+d*d),void 0!==u&&(v+=s,o=Math.acos((u*p+f*d)/(s*h)),o>t&&(v>y&&(y=v,_=m,g=a),v=0,m=a-r)),s=h,u=p,f=d),l=x,c=S}return v+=h,v>y?[m,a]:[_,g]}var N=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),X={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},V=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return N(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(i||n)){var o=this.coordinates,a=o.length,s=t.getType(),h=null,l=t.getStride();if(r.placement!==B["a"].LINE||"LineString"!=s&&"MultiLineString"!=s&&"Polygon"!=s&&"MultiPolygon"!=s){var c=r.overflow?null:[];switch(s){case"Point":case"MultiPoint":h=t.getFlatCoordinates();break;case"LineString":h=t.getFlatMidpoint();break;case"Circle":h=t.getCenter();break;case"MultiLineString":h=t.getFlatMidpoints(),l=2;break;case"Polygon":h=t.getFlatInteriorPoint(),r.overflow||c.push(h[2]/this.resolution),l=3;break;case"MultiPolygon":var u=t.getFlatInteriorPoints();h=[];for(I=0,E=u.length;I<E;I+=3)r.overflow||c.push(u[I+2]/this.resolution),h.push(u[I],u[I+1]);if(0===h.length)return;l=2;break;default:}F=this.appendFlatPointCoordinates(h,l);if(F===a)return;if(c&&(F-a)/2!==h.length/l){var f=a/2;c=c.filter((function(t,e){var i=o[2*(f+e)]===h[e*l]&&o[2*(f+e)+1]===h[e*l+1];return i||--f,i}))}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var p=r.padding;if(p!=b["j"]&&(r.scale[0]<0||r.scale[1]<0)){var d=r.padding[0],_=r.padding[1],g=r.padding[2],v=r.padding[3];r.scale[0]<0&&(_=-_,v=-v),r.scale[1]<0&&(d=-d,g=-g),p=[d,_,g,v]}var m=this.pixelRatio;this.instructions.push([y.DRAW_IMAGE,a,F,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,p==b["j"]?b["j"]:p.map((function(t){return t*m})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);var x=1/m;this.hitDetectionInstructions.push([y.DRAW_IMAGE,a,F,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[x,x],NaN,void 0,this.declutterImageWithText_,p,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),this.endGeometry(e)}else{if(!Object(O["F"])(this.getBufferedMaxExtent(),t.getExtent()))return;var S=void 0;if(h=t.getFlatCoordinates(),"LineString"==s)S=[h.length];else if("MultiLineString"==s)S=t.getEnds();else if("Polygon"==s)S=t.getEnds().slice(0,1);else if("MultiPolygon"==s){var C=t.getEndss();S=[];for(var I=0,E=C.length;I<E;++I)S.push(C[I][0])}this.beginGeometry(t,e);for(var T=r.textAlign,w=0,R=void 0,D=0,A=S.length;D<A;++D){if(void 0==T){var k=Y(r.maxAngle,h,w,S[D],l);w=k[0],R=k[1]}else R=S[D];for(var I=w;I<R;I+=l)o.push(h[I],h[I+1]);var F=o.length;w=S[D],this.drawChars_(a,F),a=F}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,n=this.strokeKey_;t&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||b["l"],justify:e.justify,textBaseline:e.textBaseline||b["m"],scale:e.scale});var o=this.fillKey_;i&&(o in this.fillStates||(this.fillStates[o]={fillStyle:i.fillStyle}))},e.prototype.drawChars_=function(t,e){var i=this.textStrokeState_,n=this.textState_,r=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,h=X[n.textBaseline],l=this.textOffsetY_*s,c=this.text_,u=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([y.DRAW_CHARS,t,e,h,n.overflow,a,n.maxAngle,s,l,r,u*s,c,o,1]),this.hitDetectionInstructions.push([y.DRAW_CHARS,t,e,h,n.overflow,a,n.maxAngle,1,l,r,u,c,o,1/s])},e.prototype.setTextStyle=function(t,e){var i,n,r;if(t){var o=t.getFill();o?(n=this.textFillState_,n||(n={},this.textFillState_=n),n.fillStyle=Object(S["a"])(o.getColor()||b["b"])):(n=null,this.textFillState_=n);var a=t.getStroke();if(a){r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);var s=a.getLineDash(),h=a.getLineDashOffset(),l=a.getWidth(),c=a.getMiterLimit();r.lineCap=a.getLineCap()||b["d"],r.lineDash=s?s.slice():b["e"],r.lineDashOffset=void 0===h?b["f"]:h,r.lineJoin=a.getLineJoin()||b["g"],r.lineWidth=void 0===l?b["h"]:l,r.miterLimit=void 0===c?b["i"]:c,r.strokeStyle=Object(S["a"])(a.getColor()||b["k"])}else r=null,this.textStrokeState_=r;i=this.textState_;var u=t.getFont()||b["c"];Object(b["q"])(u);var f=t.getScaleArray();i.overflow=t.getOverflow(),i.font=u,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||b["m"],i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||b["j"],i.scale=void 0===f?[1,1]:f;var p=t.getOffsetX(),d=t.getOffsetY(),_=t.getRotateWithView(),g=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0===g?0:g,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Object(W["c"])(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+Object(W["c"])(n.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(w),z=V,J={Circle:G,Default:w,Image:A,LineString:L,Polygon:G,Text:z},H=function(){function t(t,e,i,n){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var i=this.buildersByZIndex_[e];for(var n in i){var r=i[n].finish();t[e][n]=r}}return t},t.prototype.getBuilder=function(t,e){var i=void 0!==t?t.toString():"0",n=this.buildersByZIndex_[i];void 0===n&&(n={},this.buildersByZIndex_[i]=n);var r=n[e];if(void 0===r){var o=J[e];r=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[e]=r}return r},t}(),U=H,K=i("137e"),q=i("617d"),Z=i("a896"),Q=i("7fc9"),$=i("bef8");function tt(t,e,i,n,r,o,a,s,h,l,c,u){var f=t[e],p=t[e+1],d=0,_=0,g=0,y=0;function v(){d=f,_=p,e+=n,f=t[e],p=t[e+1],y+=g,g=Math.sqrt((f-d)*(f-d)+(p-_)*(p-_))}do{v()}while(e<i-n&&y+g<o);var m=0===g?0:(o-y)/g,x=Object(Q["e"])(d,f,m),S=Object(Q["e"])(_,p,m),O=e-n,b=y,C=o+s*h(l,r,c);while(e<i-n&&y+g<C)v();m=0===g?0:(C-y)/g;var I,E=Object(Q["e"])(d,f,m),T=Object(Q["e"])(_,p,m);if(u){var w=[x,S,E,T];Object($["a"])(w,0,4,2,u,w,w),I=w[0]>w[2]}else I=x>E;var R,D=Math.PI,A=[],k=O+n===e;if(e=O,g=0,y=b,f=t[e],p=t[e+1],k){v(),R=Math.atan2(p-_,f-d),I&&(R+=R>0?-D:D);var F=(E+x)/2,L=(T+S)/2;return A[0]=[F,L,(C-o)/2,R,r],A}r=r.replace(/\n/g," ");for(var j=0,M=r.length;j<M;){v();var P=Math.atan2(p-_,f-d);if(I&&(P+=P>0?-D:D),void 0!==R){var G=P-R;if(G+=G>D?-2*D:G<-D?2*D:0,Math.abs(G)>a)return null}R=P;for(var B=j,W=0;j<M;++j){var Y=I?M-j-1:j,N=s*h(l,r[Y],c);if(e+n<i&&y+g<o+W+N/2)break;W+=N}if(j!==B){var X=I?r.substring(M-B,M-j):r.substring(B,j);m=0===g?0:(o+W/2-y)/g;F=Object(Q["e"])(d,f,m),L=Object(Q["e"])(_,p,m);A.push([F,L,W/2,P,X]),o+=W}}return A}function et(t,e,i,n){for(var r=t[e],o=t[e+1],a=0,s=e+n;s<i;s+=n){var h=t[s],l=t[s+1];a+=Math.sqrt((h-r)*(h-r)+(l-o)*(l-o)),r=h,o=l}return a}var it=Object(O["j"])(),nt=[],rt=[],ot=[],at=[];function st(t){return t[3].declutterBox}var ht=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function lt(t,e){return"start"!==e&&"end"!==e||ht.test(t)||(e="start"===e?"left":"right"),X[e]}function ct(t,e,i){return i>0&&t.push("\n",""),t.push(e,""),t}var ut=function(){function t(t,e,i,n){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=Object(Z["c"])(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,i,n){var r=t+e+i+n;if(this.labels_[r])return this.labels_[r];var o=n?this.strokeStates[n]:null,a=i?this.fillStates[i]:null,s=this.textStates[e],h=this.pixelRatio,l=[s.scale[0]*h,s.scale[1]*h],c=Array.isArray(t),u=s.justify?X[s.justify]:lt(Array.isArray(t)?t[0]:t,s.textAlign||b["l"]),f=n&&o.lineWidth?o.lineWidth:0,p=c?t:t.split("\n").reduce(ct,[]),d=Object(b["o"])(s,p),_=d.width,g=d.height,y=d.widths,v=d.heights,m=d.lineWidths,x=_+f,S=[],O=(x+2)*l[0],C=(g+f)*l[1],I={width:O<0?Math.floor(O):Math.ceil(O),height:C<0?Math.floor(C):Math.ceil(C),contextInstructions:S};if(1==l[0]&&1==l[1]||S.push("scale",l),n){S.push("strokeStyle",o.strokeStyle),S.push("lineWidth",f),S.push("lineCap",o.lineCap),S.push("lineJoin",o.lineJoin),S.push("miterLimit",o.miterLimit);var E=q["g"]?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;E.prototype.setLineDash&&(S.push("setLineDash",[o.lineDash]),S.push("lineDashOffset",o.lineDashOffset))}i&&S.push("fillStyle",a.fillStyle),S.push("textBaseline","middle"),S.push("textAlign","center");for(var T,w=.5-u,R=u*x+w*f,D=[],A=[],k=0,F=0,L=0,j=0,M=0,P=p.length;M<P;M+=2){var G=p[M];if("\n"!==G){var B=p[M+1]||s.font;B!==T&&(n&&D.push("font",B),i&&A.push("font",B),T=B),k=Math.max(k,v[L]);var W=[G,R+w*y[L]+u*(y[L]-m[j]),.5*(f+k)+F];R+=y[L],n&&D.push("strokeText",W),i&&A.push("fillText",W),++L}else F+=k,k=0,R=u*x+w*f,++j}return Array.prototype.push.apply(S,D),Array.prototype.push.apply(S,A),this.labels_[r]=I,I},t.prototype.replayTextBackground_=function(t,e,i,n,r,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,i,n,r,o,a,s,h,l,c,u,f,p,d,_){a*=u[0],s*=u[1];var g,y=i-a,v=n-s,m=r+h>t?t-h:r,x=o+l>e?e-l:o,S=p[3]+m*u[0]+p[1],b=p[0]+x*u[1]+p[2],C=y-p[3],I=v-p[0];return(d||0!==c)&&(nt[0]=C,at[0]=C,nt[1]=I,rt[1]=I,rt[0]=C+S,ot[0]=rt[0],ot[1]=I+b,at[1]=ot[1]),0!==c?(g=Object(Z["b"])(Object(Z["c"])(),i,n,1,1,c,-i,-n),Object(Z["a"])(g,nt),Object(Z["a"])(g,rt),Object(Z["a"])(g,ot),Object(Z["a"])(g,at),Object(O["k"])(Math.min(nt[0],rt[0],ot[0],at[0]),Math.min(nt[1],rt[1],ot[1],at[1]),Math.max(nt[0],rt[0],ot[0],at[0]),Math.max(nt[1],rt[1],ot[1],at[1]),it)):Object(O["k"])(Math.min(C,C+S),Math.min(I,I+b),Math.max(C,C+S),Math.max(I,I+b),it),f&&(y=Math.round(y),v=Math.round(v)),{drawImageX:y,drawImageY:v,drawImageW:m,drawImageH:x,originX:h,originY:l,declutterBox:{minX:it[0],minY:it[1],maxX:it[2],maxY:it[3],value:_},canvasTransform:g,scale:u}},t.prototype.replayImageOrLabel_=function(t,e,i,n,r,o,a){var s=!(!o&&!a),h=n.declutterBox,l=t.canvas,c=a?a[2]*n.scale[0]/2:0,u=h.minX-c<=l.width/e&&h.maxX+c>=0&&h.minY-c<=l.height/e&&h.maxY+c>=0;return u&&(s&&this.replayTextBackground_(t,nt,rt,ot,at,o,a),Object(b["n"])(t,n.canvasTransform,r,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=Object(Z["a"])(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t["strokeStyle"]=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,i,n){var r=this.textStates[e],o=this.createLabel(t,e,n,i),a=this.strokeStates[i],s=this.pixelRatio,h=lt(Array.isArray(t)?t[0]:t,r.textAlign||b["l"]),l=X[r.textBaseline||b["m"]],c=a&&a.lineWidth?a.lineWidth:0,u=o.width/s-2*r.scale[0],f=h*u+2*(.5-h)*c,p=l*o.height/s+2*(.5-l)*c;return{label:o,anchorX:f,anchorY:p}},t.prototype.execute_=function(t,e,i,n,r,o,a,s){var h;this.pixelCoordinates_&&Object(C["a"])(i,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=Object($["c"])(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),Object(Z["f"])(this.renderedTransform_,i));var l,c,u,f,p,d,_,g,v,m,x,S,I,E,T,w,R=0,D=n.length,A=0,k=0,F=0,L=null,j=null,M=this.coordinateCache_,P=this.viewRotation_,G=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,B={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:P},W=this.instructions!=n||this.overlaps?0:200;while(R<D){var Y=n[R],N=Y[0];switch(N){case y.BEGIN_GEOMETRY:I=Y[1],w=Y[3],I.getGeometry()?void 0===a||Object(O["F"])(a,w.getExtent())?++R:R=Y[2]+1:R=Y[2];break;case y.BEGIN_PATH:k>W&&(this.fill_(t),k=0),F>W&&(t.stroke(),F=0),k||F||(t.beginPath(),f=NaN,p=NaN),++R;break;case y.CIRCLE:A=Y[1];var V=h[A],z=h[A+1],J=h[A+2],H=h[A+3],U=J-V,K=H-z,q=Math.sqrt(U*U+K*K);t.moveTo(V+q,z),t.arc(V,z,q,0,2*Math.PI,!0),++R;break;case y.CLOSE_PATH:t.closePath(),++R;break;case y.CUSTOM:A=Y[1],l=Y[2];var Q=Y[3],it=Y[4],nt=6==Y.length?Y[5]:void 0;B.geometry=Q,B.feature=I,R in M||(M[R]=[]);var rt=M[R];nt?nt(h,A,l,2,rt):(rt[0]=h[A],rt[1]=h[A+1],rt.length=2),it(rt,B),++R;break;case y.DRAW_IMAGE:A=Y[1],l=Y[2],g=Y[3],c=Y[4],u=Y[5];var ot=Y[6],at=Y[7],ht=Y[8],lt=Y[9],ct=Y[10],ut=Y[11],ft=Y[12],pt=Y[13],dt=Y[14],_t=Y[15];if(!g&&Y.length>=20){v=Y[19],m=Y[20],x=Y[21],S=Y[22];var gt=this.drawLabelWithPointPlacement_(v,m,x,S);g=gt.label,Y[3]=g;var yt=Y[23];c=(gt.anchorX-yt)*this.pixelRatio,Y[4]=c;var vt=Y[24];u=(gt.anchorY-vt)*this.pixelRatio,Y[5]=u,ot=g.height,Y[6]=ot,pt=g.width,Y[13]=pt}var mt=void 0;Y.length>25&&(mt=Y[25]);var xt=void 0,St=void 0,Ot=void 0;Y.length>17?(xt=Y[16],St=Y[17],Ot=Y[18]):(xt=b["j"],St=!1,Ot=!1),ct&&G?ut+=P:ct||G||(ut-=P);for(var bt=0;A<l;A+=2)if(!(mt&&mt[bt++]<pt/this.pixelRatio)){var Ct=this.calculateImageOrLabelDimensions_(g.width,g.height,h[A],h[A+1],pt,ot,c,u,ht,lt,ut,ft,r,xt,St||Ot,I),It=[t,e,g,Ct,at,St?L:null,Ot?j:null];if(s){if("none"===dt)continue;if("obstacle"===dt){s.insert(Ct.declutterBox);continue}var Et=void 0,Tt=void 0;if(_t){var wt=l-A;if(!_t[wt]){_t[wt]=It;continue}if(Et=_t[wt],delete _t[wt],Tt=st(Et),s.collides(Tt))continue}if(s.collides(Ct.declutterBox))continue;Et&&(s.insert(Tt),this.replayImageOrLabel_.apply(this,Et)),s.insert(Ct.declutterBox)}this.replayImageOrLabel_.apply(this,It)}++R;break;case y.DRAW_CHARS:var Rt=Y[1],Dt=Y[2],At=Y[3],kt=Y[4];S=Y[5];var Ft=Y[6],Lt=Y[7],jt=Y[8];x=Y[9];var Mt=Y[10];v=Y[11],m=Y[12];var Pt=[Y[13],Y[13]],Gt=this.textStates[m],Bt=Gt.font,Wt=[Gt.scale[0]*Lt,Gt.scale[1]*Lt],Yt=void 0;Bt in this.widths_?Yt=this.widths_[Bt]:(Yt={},this.widths_[Bt]=Yt);var Nt=et(h,Rt,Dt,2),Xt=Math.abs(Wt[0])*Object(b["p"])(Bt,v,Yt);if(kt||Xt<=Nt){var Vt=this.textStates[m].textAlign,zt=(Nt-Xt)*X[Vt],Jt=tt(h,Rt,Dt,2,v,zt,Ft,Math.abs(Wt[0]),b["p"],Bt,Yt,G?0:this.viewRotation_);t:if(Jt){var Ht=[],Ut=void 0,Kt=void 0,qt=void 0,Zt=void 0,Qt=void 0;if(x)for(Ut=0,Kt=Jt.length;Ut<Kt;++Ut){Qt=Jt[Ut],qt=Qt[4],Zt=this.createLabel(qt,m,"",x),c=Qt[2]+(Wt[0]<0?-Mt:Mt),u=At*Zt.height+2*(.5-At)*Mt*Wt[1]/Wt[0]-jt;Ct=this.calculateImageOrLabelDimensions_(Zt.width,Zt.height,Qt[0],Qt[1],Zt.width,Zt.height,c,u,0,0,Qt[3],Pt,!1,b["j"],!1,I);if(s&&s.collides(Ct.declutterBox))break t;Ht.push([t,e,Zt,Ct,1,null,null])}if(S)for(Ut=0,Kt=Jt.length;Ut<Kt;++Ut){Qt=Jt[Ut],qt=Qt[4],Zt=this.createLabel(qt,m,S,""),c=Qt[2],u=At*Zt.height-jt;Ct=this.calculateImageOrLabelDimensions_(Zt.width,Zt.height,Qt[0],Qt[1],Zt.width,Zt.height,c,u,0,0,Qt[3],Pt,!1,b["j"],!1,I);if(s&&s.collides(Ct.declutterBox))break t;Ht.push([t,e,Zt,Ct,1,null,null])}s&&s.load(Ht.map(st));for(var $t=0,te=Ht.length;$t<te;++$t)this.replayImageOrLabel_.apply(this,Ht[$t])}}++R;break;case y.END_GEOMETRY:if(void 0!==o){I=Y[1];var ee=o(I,w);if(ee)return ee}++R;break;case y.FILL:W?k++:this.fill_(t),++R;break;case y.MOVE_TO_LINE_TO:for(A=Y[1],l=Y[2],E=h[A],T=h[A+1],d=E+.5|0,_=T+.5|0,d===f&&_===p||(t.moveTo(E,T),f=d,p=_),A+=2;A<l;A+=2)E=h[A],T=h[A+1],d=E+.5|0,_=T+.5|0,A!=l-2&&d===f&&_===p||(t.lineTo(E,T),f=d,p=_);++R;break;case y.SET_FILL_STYLE:L=Y,this.alignFill_=Y[2],k&&(this.fill_(t),k=0,F&&(t.stroke(),F=0)),t.fillStyle=Y[1],++R;break;case y.SET_STROKE_STYLE:j=Y,F&&(t.stroke(),F=0),this.setStrokeStyle_(t,Y),++R;break;case y.STROKE:W?F++:t.stroke(),++R;break;default:++R;break}}k&&this.fill_(t),F&&t.stroke()},t.prototype.execute=function(t,e,i,n,r,o){this.viewRotation_=n,this.execute_(t,e,i,this.instructions,r,void 0,void 0,o)},t.prototype.executeHitDetection=function(t,e,i,n,r){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,n,r)},t}(),ft=ut,pt=i("0999"),dt=["Polygon","Circle","LineString","Image","Text","Default"],_t=function(){function t(t,e,i,n,r,o){this.maxExtent_=t,this.overlaps_=n,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(Z["c"])(),this.createExecutors_(r)}return t.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var i=this.executorsByZIndex_[e];void 0===i&&(i={},this.executorsByZIndex_[e]=i);var n=t[e];for(var r in n){var o=n[r];i[r]=new ft(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var i=this.executorsByZIndex_[e],n=0,r=t.length;n<r;++n)if(t[n]in i)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,o){n=Math.round(n);var a=2*n+1,s=Object(Z["b"])(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=Object(pt["a"])(a,a));var l,c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):h||c.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(l=Object(O["j"])(),Object(O["q"])(l,t),Object(O["c"])(l,e*(this.renderBuffer_+n),l));var u,f=yt(n);function p(t,e){for(var i=c.getImageData(0,0,a,a).data,s=0,h=f.length;s<h;s++)if(i[f[s]]>0){if(!o||"Image"!==u&&"Text"!==u||-1!==o.indexOf(t)){var l=(f[s]-3)/4,p=n-l%a,d=n-(l/a|0),_=r(t,e,p*p+d*d);if(_)return _}c.clearRect(0,0,a,a);break}}var d,_,g,y,v,m=Object.keys(this.executorsByZIndex_).map(Number);for(m.sort(C["f"]),d=m.length-1;d>=0;--d){var x=m[d].toString();for(g=this.executorsByZIndex_[x],_=dt.length-1;_>=0;--_)if(u=dt[_],y=g[u],void 0!==y&&(v=y.executeHitDetection(c,s,i,p,l),v))return v}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var i=e[0],n=e[1],r=e[2],o=e[3],a=[i,n,i,o,r,o,r,n];return Object($["c"])(a,0,8,2,t,a),a},t.prototype.isEmpty=function(){return Object(a["d"])(this.executorsByZIndex_)},t.prototype.execute=function(t,e,i,n,r,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(C["f"]),this.maxExtent_&&(t.save(),this.clip(t,i));var h,l,c,u,f,p,d=o||dt;for(a&&s.reverse(),h=0,l=s.length;h<l;++h){var _=s[h].toString();for(f=this.executorsByZIndex_[_],c=0,u=d.length;c<u;++c){var g=d[c];p=f[g],void 0!==p&&p.execute(t,e,i,n,r,a)}}this.maxExtent_&&t.restore()},t}(),gt={};function yt(t){if(void 0!==gt[t])return gt[t];for(var e=2*t+1,i=t*t,n=new Array(i+1),r=0;r<=t;++r)for(var o=0;o<=t;++o){var a=r*r+o*o;if(a>i)break;var s=n[a];s||(s=[],n[a]=s),s.push(4*((t+r)*e+(t+o))+3),r>0&&s.push(4*((t-r)*e+(t+o))+3),o>0&&(s.push(4*((t+r)*e+(t-o))+3),r>0&&s.push(4*((t-r)*e+(t-o))+3))}for(var h=[],l=(r=0,n.length);r<l;++r)n[r]&&h.push.apply(h,n[r]);return gt[t]=h,h}var vt=_t,mt=i("496f"),xt=i("9abc"),St=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ot=function(t){function e(e,i,n,r,o,a,s){var h=t.call(this)||this;return h.context_=e,h.pixelRatio_=i,h.extent_=n,h.transform_=r,h.viewRotation_=o,h.squaredTolerance_=a,h.userTransform_=s,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=[0,0],h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=[0,0],h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=Object(Z["c"])(),h}return St(e,t),e.prototype.drawImages_=function(t,e,i,n){if(this.image_){var r=Object($["c"])(t,e,i,n,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(var l=0,c=r.length;l<c;l+=2){var u=r[l]-this.imageAnchorX_,f=r[l+1]-this.imageAnchorY_;if(0!==h||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var p=u+this.imageAnchorX_,d=f+this.imageAnchorY_;Object(Z["b"])(a,p,d,1,1,h,-p,-d),o.setTransform.apply(o,a),o.translate(p,d),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,u,f,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,i,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Object($["c"])(t,e,i,n,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<i;e+=n){var s=r[e]+this.textOffsetX_,h=r[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var l=Object(Z["b"])(this.tmpLocalTransform_,s,h,1,1,a,-s,-h);o.setTransform.apply(o,l),o.translate(s,h),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,s,h),this.textFillState_&&o.fillText(this.text_,s,h)}}},e.prototype.moveToLineTo_=function(t,e,i,n,r){var o=this.context_,a=Object($["c"])(t,e,i,n,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;r&&(s-=2);for(var h=2;h<s;h+=2)o.lineTo(a[h],a[h+1]);return r&&o.closePath(),i},e.prototype.drawRings_=function(t,e,i,n){for(var r=0,o=i.length;r<o;++r)e=this.moveToLineTo_(t,e,i[r],n,!0);return e},e.prototype.drawCircle=function(t){if(Object(O["F"])(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(xt["b"])(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],n=e[3]-e[1],r=Math.sqrt(i*i+n*n),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){var e=t.getType();switch(e){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break;default:}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&Object(O["F"])(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,n=e.length;i<n;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(O["F"])(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Object(O["F"])(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,n=t.getFlatCoordinates(),r=0,o=t.getEnds(),a=t.getStride();i.beginPath();for(var s=0,h=o.length;s<h;++s)r=this.moveToLineTo_(n,r,o[s],a,!1);i.stroke()}if(""!==this.text_){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(O["F"])(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(O["F"])(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),n=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var a=0,s=r.length;a<s;++a){var h=r[a];n=this.drawRings_(i,n,h,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Object(C["a"])(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,n=t.textAlign?t.textAlign:b["l"];i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=n&&(i.textAlign=n,e.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var i=this;if(t){var n=t.getColor();this.fillState_={fillStyle:Object(S["a"])(n||b["b"])}}else this.fillState_=null;if(e){var r=e.getColor(),o=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),h=e.getLineJoin(),l=e.getWidth(),c=e.getMiterLimit(),u=a||b["e"];this.strokeState_={lineCap:void 0!==o?o:b["d"],lineDash:1===this.pixelRatio_?u:u.map((function(t){return t*i.pixelRatio_})),lineDashOffset:(s||b["f"])*this.pixelRatio_,lineJoin:void 0!==h?h:b["g"],lineWidth:(void 0!==l?l:b["h"])*this.pixelRatio_,miterLimit:void 0!==c?c:b["i"],strokeStyle:Object(S["a"])(r||b["k"])}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var i=t.getAnchor(),n=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:Object(S["a"])(i||b["b"])}}else this.textFillState_=null;var n=t.getStroke();if(n){var r=n.getColor(),o=n.getLineCap(),a=n.getLineDash(),s=n.getLineDashOffset(),h=n.getLineJoin(),l=n.getWidth(),c=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:b["d"],lineDash:a||b["e"],lineDashOffset:s||b["f"],lineJoin:void 0!==h?h:b["g"],lineWidth:void 0!==l?l:b["h"],miterLimit:void 0!==c?c:b["i"],strokeStyle:Object(S["a"])(r||b["k"])}}else this.textStrokeState_=null;var u=t.getFont(),f=t.getOffsetX(),p=t.getOffsetY(),d=t.getRotateWithView(),_=t.getRotation(),g=t.getScaleArray(),y=t.getText(),v=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==u?u:b["c"],textAlign:void 0!==v?v:b["l"],textBaseline:void 0!==m?m:b["m"]},this.text_=void 0!==y?Array.isArray(y)?y.reduce((function(t,e,i){return t+(i%2?" ":e)}),""):y:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==_?_:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}else this.text_=""},e}(x),bt=Ot,Ct=i("82b0"),It=i("6cbf"),Et=.5;function Tt(t,e,i,n,r,o,a){var s=t[0]*Et,h=t[1]*Et,l=Object(pt["a"])(s,h);l.imageSmoothingEnabled=!1;for(var c=l.canvas,u=new bt(l,Et,r,null,a),f=i.length,p=Math.floor(16777215/f),d={},_=1;_<=f;++_){var g=i[_-1],y=g.getStyleFunction()||n;if(n){var v=y(g,o);if(v){Array.isArray(v)||(v=[v]);for(var m=_*p,x="#"+("000000"+m.toString(16)).slice(-6),S=0,b=v.length;S<b;++S){var I=v[S],E=I.getGeometryFunction()(g);if(E&&Object(O["F"])(r,E.getExtent())){var T=I.clone(),w=T.getFill();w&&w.setColor(x);var R=T.getStroke();R&&(R.setColor(x),R.setLineDash(null)),T.setText(void 0);var D=I.getImage();if(D&&0!==D.getOpacity()){var A=D.getImageSize();if(!A)continue;var k=Object(pt["a"])(A[0],A[1],void 0,{alpha:!1}),F=k.canvas;k.fillStyle=x,k.fillRect(0,0,F.width,F.height),T.setImage(new It["a"]({img:F,imgSize:A,anchor:D.getAnchor(),anchorXUnits:Ct["a"].PIXELS,anchorYUnits:Ct["a"].PIXELS,offset:D.getOrigin(),opacity:1,size:D.getSize(),scale:D.getScale(),rotation:D.getRotation(),rotateWithView:D.getRotateWithView()}))}var L=T.getZIndex()||0,j=d[L];j||(j={},d[L]=j,j["Polygon"]=[],j["Circle"]=[],j["LineString"]=[],j["Point"]=[]),j[E.getType().replace("Multi","")].push(E,T)}}}}}for(var M=Object.keys(d).map(Number).sort(C["f"]),P=(_=0,M.length);_<P;++_){j=d[M[_]];for(var G in j){var B=j[G];for(S=0,b=B.length;S<b;S+=2){u.setStyle(B[S+1]);for(var W=0,Y=e.length;W<Y;++W)u.setTransform(e[W]),u.drawGeometry(B[S])}}}return l.getImageData(0,0,c.width,c.height)}function wt(t,e,i){var n=[];if(i){var r=Math.floor(Math.round(t[0])*Et),o=Math.floor(Math.round(t[1])*Et),a=4*(Object(Q["b"])(r,0,i.width-1)+Object(Q["b"])(o,0,i.height-1)*i.width),s=i.data[a],h=i.data[a+1],l=i.data[a+2],c=l+256*(h+256*s),u=Math.floor(16777215/e.length);c&&c%u===0&&n.push(e[c/u-1])}return n}var Rt=i("869f"),Dt=.5,At={Point:Xt,LineString:Wt,Polygon:zt,MultiPoint:Vt,MultiLineString:Yt,MultiPolygon:Nt,GeometryCollection:Bt,Circle:jt};function kt(t,e){return parseInt(Object(W["c"])(t),10)-parseInt(Object(W["c"])(e),10)}function Ft(t,e){var i=Lt(t,e);return i*i}function Lt(t,e){return Dt*t/e}function jt(t,e,i,n,r){var o=i.getFill(),a=i.getStroke();if(o||a){var s=t.getBuilder(i.getZIndex(),"Circle");s.setFillStrokeStyle(o,a),s.drawCircle(e,n)}var h=i.getText();if(h&&h.getText()){var l=(r||t).getBuilder(i.getZIndex(),"Text");l.setTextStyle(h),l.drawText(e,n)}}function Mt(t,e,i,n,r,o,a){var s=!1,h=i.getImage();if(h){var l=h.getImageState();l==Rt["a"].LOADED||l==Rt["a"].ERROR?h.unlistenImageChange(r):(l==Rt["a"].IDLE&&h.load(),h.listenImageChange(r),s=!0)}return Pt(t,e,i,n,o,a),s}function Pt(t,e,i,n,r,o){var a=i.getGeometryFunction()(e);if(a){var s=a.simplifyTransformed(n,r),h=i.getRenderer();if(h)Gt(t,s,i,e);else{var l=At[s.getType()];l(t,s,i,e,o)}}}function Gt(t,e,i,n){if("GeometryCollection"!=e.getType()){var r=t.getBuilder(i.getZIndex(),"Default");r.drawCustom(e,n,i.getRenderer(),i.getHitDetectionRenderer())}else for(var o=e.getGeometries(),a=0,s=o.length;a<s;++a)Gt(t,o[a],i,n)}function Bt(t,e,i,n,r){var o,a,s=e.getGeometriesArray();for(o=0,a=s.length;o<a;++o){var h=At[s[o].getType()];h(t,s[o],i,n,r)}}function Wt(t,e,i,n,r){var o=i.getStroke();if(o){var a=t.getBuilder(i.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(e,n)}var s=i.getText();if(s&&s.getText()){var h=(r||t).getBuilder(i.getZIndex(),"Text");h.setTextStyle(s),h.drawText(e,n)}}function Yt(t,e,i,n,r){var o=i.getStroke();if(o){var a=t.getBuilder(i.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,n)}var s=i.getText();if(s&&s.getText()){var h=(r||t).getBuilder(i.getZIndex(),"Text");h.setTextStyle(s),h.drawText(e,n)}}function Nt(t,e,i,n,r){var o=i.getFill(),a=i.getStroke();if(a||o){var s=t.getBuilder(i.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawMultiPolygon(e,n)}var h=i.getText();if(h&&h.getText()){var l=(r||t).getBuilder(i.getZIndex(),"Text");l.setTextStyle(h),l.drawText(e,n)}}function Xt(t,e,i,n,r){var o,a=i.getImage(),s=i.getText();if(a){if(a.getImageState()!=Rt["a"].LOADED)return;var h=t;if(r){var l=a.getDeclutterMode();if("none"!==l)if(h=r,"obstacle"===l){var c=t.getBuilder(i.getZIndex(),"Image");c.setImageStyle(a,o),c.drawPoint(e,n)}else s&&s.getText()&&(o={})}var u=h.getBuilder(i.getZIndex(),"Image");u.setImageStyle(a,o),u.drawPoint(e,n)}if(s&&s.getText()){var f=t;r&&(f=r);var p=f.getBuilder(i.getZIndex(),"Text");p.setTextStyle(s,o),p.drawText(e,n)}}function Vt(t,e,i,n,r){var o,a=i.getImage(),s=i.getText();if(a){if(a.getImageState()!=Rt["a"].LOADED)return;var h=t;if(r){var l=a.getDeclutterMode();if("none"!==l)if(h=r,"obstacle"===l){var c=t.getBuilder(i.getZIndex(),"Image");c.setImageStyle(a,o),c.drawMultiPoint(e,n)}else s&&s.getText()&&(o={})}var u=h.getBuilder(i.getZIndex(),"Image");u.setImageStyle(a,o),u.drawMultiPoint(e,n)}if(s&&s.getText()){var f=t;r&&(f=r);var p=f.getBuilder(i.getZIndex(),"Text");p.setTextStyle(s,o),p.drawText(e,n)}}function zt(t,e,i,n,r){var o=i.getFill(),a=i.getStroke();if(o||a){var s=t.getBuilder(i.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawPolygon(e,n)}var h=i.getText();if(h&&h.getText()){var l=(r||t).getBuilder(i.getZIndex(),"Text");l.setTextStyle(h),l.drawText(e,n)}}var Jt=i("256f"),Ht=i("a568"),Ut=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Kt=function(t){function e(e){var i=t.call(this,e)||this;return i.boundHandleStyleImageChange_=i.handleStyleImageChange_.bind(i),i.animatingOrInteracting_,i.hitDetectionImageData_=null,i.renderedFeatures_=null,i.renderedRevision_=-1,i.renderedResolution_=NaN,i.renderedExtent_=Object(O["j"])(),i.wrappedRenderedExtent_=Object(O["j"])(),i.renderedRotation_,i.renderedCenter_=null,i.renderedProjection_=null,i.renderedRenderOrder_=null,i.replayGroup_=null,i.replayGroupChanged=!0,i.declutterExecutorGroup=null,i.clipping=!0,i.compositionContext_=null,i.opacity_=1,i}return Ut(e,t),e.prototype.renderWorlds=function(t,e,i){var n=e.extent,r=e.viewState,o=r.center,a=r.resolution,s=r.projection,h=r.rotation,l=s.getExtent(),c=this.getLayer().getSource(),u=e.pixelRatio,f=e.viewHints,p=!(f[mt["a"].ANIMATING]||f[mt["a"].INTERACTING]),d=this.compositionContext_,_=Math.round(e.size[0]*u),g=Math.round(e.size[1]*u),y=c.getWrapX()&&s.canWrapX(),v=y?Object(O["E"])(l):null,m=y?Math.ceil((n[2]-l[2])/v)+1:1,x=y?Math.floor((n[0]-l[0])/v):0;do{var S=this.getRenderTransform(o,a,h,u,_,g,x*v);t.execute(d,1,S,h,p,void 0,i)}while(++x<m)},e.prototype.setupCompositionContext_=function(){if(1!==this.opacity_){var t=Object(pt["a"])(this.context.canvas.width,this.context.canvas.height,K["a"]);this.compositionContext_=t}else this.compositionContext_=this.context},e.prototype.releaseCompositionContext_=function(){if(1!==this.opacity_){var t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,Object(pt["d"])(this.compositionContext_),K["a"].push(this.compositionContext_.canvas),this.compositionContext_=null}},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())},e.prototype.renderFrame=function(t,e){var i=t.pixelRatio,n=t.layerStatesArray[t.layerIndex];Object(Z["e"])(this.pixelTransform,1/i,1/i),Object(Z["d"])(this.inversePixelTransform,this.pixelTransform);var r=Object(Z["g"])(this.pixelTransform);this.useContainer(e,r,this.getBackground(t));var o=this.context,a=o.canvas,s=this.replayGroup_,h=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!h||h.isEmpty()))return null;var l=Math.round(t.size[0]*i),c=Math.round(t.size[1]*i);a.width!=l||a.height!=c?(a.width=l,a.height=c,a.style.transform!==r&&(a.style.transform=r)):this.containerReused||o.clearRect(0,0,l,c),this.preRender(o,t);var u=t.viewState,f=u.projection;this.opacity_=n.opacity,this.setupCompositionContext_();var p=!1,d=!0;if(n.extent&&this.clipping){var _=Object(Jt["f"])(n.extent,f);d=Object(O["F"])(_,t.extent),p=d&&!Object(O["g"])(_,t.extent),p&&this.clipUnrotated(this.compositionContext_,t,_)}return d&&this.renderWorlds(s,t),p&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,t),this.renderedRotation_!==u.rotation&&(this.renderedRotation_=u.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Object(Z["a"])(this.pixelTransform,i);var n=this.renderedCenter_,r=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,s=this.wrappedRenderedExtent_,h=this.getLayer(),l=[],c=i[0]*Et,u=i[1]*Et;l.push(this.getRenderTransform(n,r,o,Et,c,u,0).slice());var f=h.getSource(),p=a.getExtent();if(f.getWrapX()&&a.canWrapX()&&!Object(O["g"])(p,s)){var d=s[0],_=Object(O["E"])(p),g=0,y=void 0;while(d<p[0])--g,y=_*g,l.push(this.getRenderTransform(n,r,o,Et,c,u,y).slice()),d+=_;g=0,d=s[2];while(d>p[2])++g,y=_*g,l.push(this.getRenderTransform(n,r,o,Et,c,u,y).slice()),d-=_}this.hitDetectionImageData_=Tt(i,l,this.renderedFeatures_,h.getStyleFunction(),s,r,o)}e(wt(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){var o=this;if(this.replayGroup_){var a,s=e.viewState.resolution,h=e.viewState.rotation,l=this.getLayer(),c={},u=function(t,e,i){var o=Object(W["c"])(t),a=c[o];if(a){if(!0!==a&&i<a.distanceSq){if(0===i)return c[o]=!0,r.splice(r.lastIndexOf(a),1),n(t,l,e);a.geometry=e,a.distanceSq=i}}else{if(0===i)return c[o]=!0,n(t,l,e);r.push(c[o]={feature:t,layer:l,geometry:e,distanceSq:i,callback:n})}},f=[this.replayGroup_];return this.declutterExecutorGroup&&f.push(this.declutterExecutorGroup),f.some((function(n){return a=n.forEachFeatureAtCoordinate(t,s,h,i,u,n===o.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((function(t){return t.value})):null)})),a}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),i=e.getSource();if(!i)return!1;var n=t.viewHints[mt["a"].ANIMATING],r=t.viewHints[mt["a"].INTERACTING],o=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(this.ready&&!o&&n||!a&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,h=t.viewState,l=h.projection,c=h.resolution,u=t.pixelRatio,f=e.getRevision(),p=e.getRenderBuffer(),d=e.getRenderOrder();void 0===d&&(d=kt);var _=h.center.slice(),g=Object(O["c"])(s,p*c),y=g.slice(),v=[g.slice()],m=l.getExtent();if(i.getWrapX()&&l.canWrapX()&&!Object(O["g"])(m,t.extent)){var x=Object(O["E"])(m),S=Math.max(Object(O["E"])(g)/2,x);g[0]=m[0]-S,g[2]=m[2]+S,Object(Ht["f"])(_,l);var b=Object(O["K"])(v[0],l);b[0]<m[0]&&b[2]<m[2]?v.push([b[0]+x,b[1],b[2]+x,b[3]]):b[0]>m[0]&&b[2]>m[2]&&v.push([b[0]-x,b[1],b[2]-x,b[3]])}if(this.ready&&this.renderedResolution_==c&&this.renderedRevision_==f&&this.renderedRenderOrder_==d&&Object(O["g"])(this.wrappedRenderedExtent_,g))return Object(C["a"])(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=_,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var I,E=new U(Lt(c,u),g,c,u);this.getLayer().getDeclutter()&&(I=new U(Lt(c,u),g,c,u));var T,w=Object(Jt["l"])();if(w){for(var R=0,D=v.length;R<D;++R){var A=v[R],k=Object(Jt["n"])(A,l);i.loadFeatures(k,Object(Jt["o"])(c,l),w)}T=Object(Jt["k"])(w,l)}else for(R=0,D=v.length;R<D;++R)i.loadFeatures(v[R],c,l);var F=Ft(c,u),L=!0,j=function(t){var i,n=t.getStyleFunction()||e.getStyleFunction();if(n&&(i=n(t,c)),i){var r=this.renderFeature(t,F,i,E,T,I);L=L&&!r}}.bind(this),M=Object(Jt["n"])(g,l),P=i.getFeaturesInExtent(M);d&&P.sort(d);for(R=0,D=P.length;R<D;++R)j(P[R]);this.renderedFeatures_=P,this.ready=L;var G=E.finish(),B=new vt(g,c,u,i.getOverlaps(),G,e.getRenderBuffer());return I&&(this.declutterExecutorGroup=new vt(g,c,u,i.getOverlaps(),I.finish(),e.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=f,this.renderedRenderOrder_=d,this.renderedExtent_=y,this.wrappedRenderedExtent_=g,this.renderedCenter_=_,this.renderedProjection_=l,this.replayGroup_=B,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,i,n,r,o){if(!i)return!1;var a=!1;if(Array.isArray(i))for(var s=0,h=i.length;s<h;++s)a=Mt(n,t,i[s],e,this.boundHandleStyleImageChange_,r,o)||a;else a=Mt(n,t,i,e,this.boundHandleStyleImageChange_,r,o);return a},e}(K["b"]),qt=Kt,Zt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Qt=function(t){function e(e){return t.call(this,e)||this}return Zt(e,t),e.prototype.createRenderer=function(){return new qt(this)},e}(u);e["a"]=Qt},"4cdf":function(t,e,i){"use strict";var n=i("e269"),r=i("01d4"),o=i("92fa"),a=i("1e8d"),s=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(t){function e(e){var i=t.call(this)||this;if(i.on,i.once,i.un,i.id_=void 0,i.geometryName_="geometry",i.style_=null,i.styleFunction_=void 0,i.geometryChangeKey_=null,i.addChangeListener(i.geometryName_,i.handleGeometryChanged_),e)if("function"===typeof e.getSimplifiedGeometry){var n=e;i.setGeometry(n)}else{var r=e;i.setProperties(r)}return i}return s(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&t.setGeometry(i.clone());var n=this.getStyle();return n&&t.setStyle(n),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(a["c"])(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(a["a"])(t,r["a"].CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?l(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(n["a"]);function l(t){if("function"===typeof t)return t;var e;if(Array.isArray(t))e=t;else{Object(o["a"])("function"===typeof t.getZIndex,41);var i=t;e=[i]}return function(){return e}}e["a"]=h},5831:function(t,e,i){"use strict";var n=i("e300"),r=i("183a"),o=i("cef7"),a=i("01d4"),s=i("7b4f"),h=i("25a5"),l=i.n(h),c=i("0af5"),u=i("1300"),f=i("38f3"),p=function(){function t(t){this.rbush_=new l.a(t),this.items_={}}return t.prototype.insert=function(t,e){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[Object(u["c"])(e)]=i},t.prototype.load=function(t,e){for(var i=new Array(e.length),n=0,r=e.length;n<r;n++){var o=t[n],a=e[n],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};i[n]=s,this.items_[Object(u["c"])(a)]=s}this.rbush_.load(i)},t.prototype.remove=function(t){var e=Object(u["c"])(t),i=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(i)},t.prototype.update=function(t,e){var i=this.items_[Object(u["c"])(e)],n=[i.minX,i.minY,i.maxX,i.maxY];Object(c["o"])(n,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){var t=this.rbush_.all();return t.map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]},i=this.rbush_.search(e);return i.map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var i,n=0,r=t.length;n<r;n++)if(i=e(t[n]),i)return i;return i},t.prototype.isEmpty=function(){return Object(f["d"])(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(c["k"])(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),d=p,_=i("ff80"),g={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"},y=i("57cb");i("256f");function v(t,e){return[[-1/0,-1/0,1/0,1/0]]}var m=i("92fa"),x=i("9f5e"),S=i("1e8d"),O=!1;function b(t,e,i,n,r,o,a){var s=new XMLHttpRequest;s.open("GET","function"===typeof t?t(i,n,r):t,!0),"arraybuffer"==e.getType()&&(s.responseType="arraybuffer"),s.withCredentials=O,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var n=e.getType(),h=void 0;"json"==n||"text"==n?h=s.responseText:"xml"==n?(h=s.responseXML,h||(h=(new DOMParser).parseFromString(s.responseText,"application/xml"))):"arraybuffer"==n&&(h=s.response),h?o(e.readFeatures(h,{extent:i,featureProjection:r}),e.readProjection(h)):a()}else a()},s.onerror=a,s.send()}function C(t,e){return function(i,n,r,o,a){var s=this;b(t,e,i,n,r,(function(t,e){s.addFeatures(t),void 0!==o&&o(t)}),a||y["c"])}}var I=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),E=function(t){function e(e,i,n){var r=t.call(this,e)||this;return r.feature=i,r.features=n,r}return I(e,t),e}(o["a"]),T=function(t){function e(e){var i=this,r=e||{};i=t.call(this,{attributions:r.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===r.wrapX||r.wrapX})||this,i.on,i.once,i.un,i.loader_=y["c"],i.format_=r.format,i.overlaps_=void 0===r.overlaps||r.overlaps,i.url_=r.url,void 0!==r.loader?i.loader_=r.loader:void 0!==i.url_&&(Object(m["a"])(i.format_,7),i.loader_=C(i.url_,i.format_)),i.strategy_=void 0!==r.strategy?r.strategy:v;var o,a,s=void 0===r.useSpatialIndex||r.useSpatialIndex;return i.featuresRtree_=s?new d:null,i.loadedExtentsRtree_=new d,i.loadingExtentsCount_=0,i.nullGeometryFeatures_={},i.idIndex_={},i.uidIndex_={},i.featureChangeKeys_={},i.featuresCollection_=null,Array.isArray(r.features)?a=r.features:r.features&&(o=r.features,a=o.getArray()),s||void 0!==o||(o=new n["a"](a)),void 0!==a&&i.addFeaturesInternal(a),void 0!==o&&i.bindFeaturesCollection_(o),i}return I(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(u["c"])(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var i=t.getGeometry();if(i){var n=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new E(g.ADDFEATURE,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(S["a"])(e,a["a"].CHANGE,this.handleFeatureChange_,this),Object(S["a"])(e,s["a"].PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var i=!0,n=e.getId();return void 0!==n&&(n.toString()in this.idIndex_?i=!1:this.idIndex_[n.toString()]=e),i&&(Object(m["a"])(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),i},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],i=[],n=[],r=0,o=t.length;r<o;r++){var a=t[r],s=Object(u["c"])(a);this.addToIndex_(s,a)&&i.push(a)}r=0;for(var h=i.length;r<h;r++){a=i[r],s=Object(u["c"])(a);this.setupChangeEvents_(s,a);var l=a.getGeometry();if(l){var c=l.getExtent();e.push(c),n.push(a)}else this.nullGeometryFeatures_[s]=a}if(this.featuresRtree_&&this.featuresRtree_.load(e,n),this.hasListener(g.ADDFEATURE)){r=0;for(var f=i.length;r<f;r++)this.dispatchEvent(new E(g.ADDFEATURE,i[r]))}},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(g.ADDFEATURE,(function(i){e||(e=!0,t.push(i.feature),e=!1)})),this.addEventListener(g.REMOVEFEATURE,(function(i){e||(e=!0,t.remove(i.feature),e=!1)})),t.addEventListener(r["a"].ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(r["a"].REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){var i=this.featureChangeKeys_[e];i.forEach(S["c"])}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var n=function(t){this.removeFeatureInternal(t)}.bind(this);for(var r in this.featuresRtree_.forEach(n),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var o=new E(g.CLEAR);this.dispatchEvent(o),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,(function(i){var n=i.getGeometry();return n.intersectsCoordinate(t)?e(i):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(i){var n=i.getGeometry();if(n.intersectsExtent(t)){var r=e(i);if(r)return r}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(f["d"])(this.nullGeometryFeatures_)||Object(x["b"])(t,Object(f["c"])(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t,e){var i=this;if(this.featuresRtree_){var n=e&&e.canWrapX()&&this.getWrapX();if(!n)return this.featuresRtree_.getInExtent(t);var r=Object(c["J"])(t,e);return[].concat.apply([],r.map((function(t){return i.featuresRtree_.getInExtent(t)})))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var i=t[0],n=t[1],r=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],h=e||y["b"];return this.featuresRtree_.forEachInExtent(s,(function(t){if(h(t)){var e=t.getGeometry(),l=a;if(a=e.closestPointXY(i,n,o,a),a<l){r=t;var c=Math.sqrt(a);s[0]=i-c,s[1]=n-c,s[2]=i+c,s[3]=n+c}}})),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,i=Object(u["c"])(e),n=e.getGeometry();if(n){var r=n.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(r,e)):this.featuresRtree_&&this.featuresRtree_.update(r,e)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);var o=e.getId();if(void 0!==o){var a=o.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[i]=e;this.changed(),this.dispatchEvent(new E(g.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(u["c"])(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Object(f["d"])(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},e.prototype.loadFeatures=function(t,e,i){for(var n=this.loadedExtentsRtree_,r=this.strategy_(t,e,i),o=function(t,o){var s=r[t],h=n.forEachInExtent(s,(function(t){return Object(c["g"])(t.extent,s)}));h||(++a.loadingExtentsCount_,a.dispatchEvent(new E(g.FEATURESLOADSTART)),a.loader_.call(a,s,e,i,function(t){--this.loadingExtentsCount_,this.dispatchEvent(new E(g.FEATURESLOADEND,void 0,t))}.bind(a),function(){--this.loadingExtentsCount_,this.dispatchEvent(new E(g.FEATURESLOADERROR))}.bind(a)),n.insert(s,{extent:s.slice()}))},a=this,s=0,h=r.length;s<h;++s)o(s,h);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,i=this.loadedExtentsRtree_;i.forEachInExtent(t,(function(i){if(Object(c["o"])(i.extent,t))return e=i,!0})),e&&i.remove(e)},e.prototype.removeFeature=function(t){if(t){var e=Object(u["c"])(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);var i=this.removeFeatureInternal(t);i&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var e=Object(u["c"])(t),i=this.featureChangeKeys_[e];if(i){i.forEach(S["c"]),delete this.featureChangeKeys_[e];var n=t.getId();return void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new E(g.REMOVEFEATURE,t)),t}},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){Object(m["a"])(this.format_,7),this.url_=t,this.setLoader(C(t,this.format_))},e}(_["a"]);e["a"]=T},"6c77":function(t,e,i){"use strict";i.d(e,"c",(function(){return h})),i.d(e,"a",(function(){return c}));var n=i("ce2c"),r=i("83a6"),o=i("8682"),a=i("92fa"),s=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=u,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"===typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},t.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=u,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();function h(t){var e;if("function"===typeof t)e=t;else{var i;if(Array.isArray(t))i=t;else{Object(a["a"])("function"===typeof t.getZIndex,41);var n=t;i=[n]}e=function(){return i}}return e}var l=null;function c(t,e){if(!l){var i=new r["a"]({color:"rgba(255,255,255,0.4)"}),a=new o["a"]({color:"#3399CC",width:1.25});l=[new s({image:new n["a"]({fill:i,stroke:a,radius:5}),fill:i,stroke:a})]}return l}function u(t){return t.getGeometry()}e["b"]=s},"6cbf":function(t,e,i){"use strict";var n=i("01d4"),r=i("82b0"),o={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},a=i("869f"),s=i("ab35"),h=i("5c38"),l=i("92fa"),c=i("0ec0"),u=i("0999"),f=i("3c22"),p=i("6611"),d=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_=null,g=function(t){function e(e,i,n,r,o,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==r&&(s.image_.crossOrigin=r),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=n,s.src_=i,s.tainted_,s}return d(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===a["a"].LOADED){_||(_=Object(u["a"])(1,1)),_.drawImage(this.image_,0,0);try{_.getImageData(0,0,1,1),this.tainted_=!1}catch(t){_=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(n["a"].CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=a["a"].ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=a["a"].LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],i=Object(u["a"])(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==a["a"].IDLE){this.imageState_=a["a"].LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(p["a"])(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&this.imageState_===a["a"].LOADED){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var i=e.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply","multiply"===i.globalCompositeOperation||this.isTainted_())i.fillStyle=Object(h["b"])(this.color_),i.fillRect(0,0,e.width/t,e.height/t),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var n=i.getImageData(0,0,e.width,e.height),r=n.data,o=this.color_[0]/255,s=this.color_[1]/255,l=this.color_[2]/255,c=this.color_[3],u=0,f=r.length;u<f;u+=4)r[u]*=o,r[u+1]*=s,r[u+2]*=l,r[u+3]*=c;i.putImageData(n,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(c["a"]);function y(t,e,i,n,r,o){var a=f["a"].get(e,n,o);return a||(a=new g(t,e,i,n,r,o),f["a"].set(e,n,o,a)),a}var v=i("1300"),m=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),x=function(t){function e(e){var i=this,n=e||{},s=void 0!==n.opacity?n.opacity:1,c=void 0!==n.rotation?n.rotation:0,u=void 0!==n.scale?n.scale:1,f=void 0!==n.rotateWithView&&n.rotateWithView;i=t.call(this,{opacity:s,rotation:c,scale:u,displacement:void 0!==n.displacement?n.displacement:[0,0],rotateWithView:f,declutterMode:n.declutterMode})||this,i.anchor_=void 0!==n.anchor?n.anchor:[.5,.5],i.normalizedAnchor_=null,i.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:o.TOP_LEFT,i.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:r["a"].FRACTION,i.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:r["a"].FRACTION,i.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var p=void 0!==n.img?n.img:null;i.imgSize_=n.imgSize;var d=n.src;Object(l["a"])(!(void 0!==d&&p),4),Object(l["a"])(!p||p&&i.imgSize_,5),void 0!==d&&0!==d.length||!p||(d=p.src||Object(v["c"])(p)),Object(l["a"])(void 0!==d&&d.length>0,6);var _=void 0!==n.src?a["a"].IDLE:a["a"].LOADED;return i.color_=void 0!==n.color?Object(h["a"])(n.color):null,i.iconImage_=y(p,d,void 0!==i.imgSize_?i.imgSize_:null,i.crossOrigin_,_,i.color_),i.offset_=void 0!==n.offset?n.offset:[0,0],i.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:o.TOP_LEFT,i.origin_=null,i.size_=void 0!==n.size?n.size:null,i}return m(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==r["a"].FRACTION||this.anchorYUnits_==r["a"].FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==r["a"].FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==r["a"].FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=o.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=o.TOP_RIGHT&&this.anchorOrigin_!=o.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=o.BOTTOM_LEFT&&this.anchorOrigin_!=o.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var i=this.getDisplacement();return[t[0]-i[0],t[1]+i[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=o.TOP_LEFT){var e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),this.offsetOrigin_!=o.TOP_RIGHT&&this.offsetOrigin_!=o.BOTTOM_RIGHT||(t[0]=i[0]-e[0]-t[0]),this.offsetOrigin_!=o.BOTTOM_LEFT&&this.offsetOrigin_!=o.BOTTOM_RIGHT||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(n["a"].CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(n["a"].CHANGE,t)},e}(s["a"]);e["a"]=x},"80e4":function(t,e,i){},"82b0":function(t,e,i){"use strict";e["a"]={FRACTION:"fraction",PIXELS:"pixels"}},"83a6":function(t,e,i){"use strict";var n=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();e["a"]=n},8682:function(t,e,i){"use strict";var n=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();e["a"]=n},ab35:function(t,e,i){"use strict";var n=i("1300"),r=i("345d"),o=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Object(r["c"])(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getDeclutterMode=function(){return this.declutterMode_},t.prototype.getAnchor=function(){return Object(n["b"])()},t.prototype.getImage=function(t){return Object(n["b"])()},t.prototype.getHitDetectionImage=function(){return Object(n["b"])()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return Object(n["b"])()},t.prototype.getImageSize=function(){return Object(n["b"])()},t.prototype.getOrigin=function(){return Object(n["b"])()},t.prototype.getSize=function(){return Object(n["b"])()},t.prototype.setDisplacement=function(t){this.displacement_=t},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Object(r["c"])(t)},t.prototype.listenImageChange=function(t){Object(n["b"])()},t.prototype.load=function(){Object(n["b"])()},t.prototype.unlistenImageChange=function(t){Object(n["b"])()},t}();e["a"]=o},b046:function(t,e,i){"use strict";var n=i("7a23"),r=i("2af9"),o=i("3e6b"),a=i("5831"),s=i("4cdf"),h=i("6c77"),l=i("6cbf"),c=i("d051"),u=i("f403"),f=i("e47c"),p=i.n(f),d=i("ed08"),_={__name:"singleUserMap",props:{modelValue:{type:Boolean,default:!1},curRow:{type:Object,default(){return{}}},isEdit:{type:Boolean,default:!1}},emits:["update:modelValue","confirm"],setup(t,{emit:e}){const i=t,f=Object(n["inject"])("$Message",()=>{}),_=Object(n["computed"])({get(){return i.modelValue},set(t){e("update:modelValue",t)}}),g=Object(n["computed"])(()=>`${i.isEdit?"点击/拖拽选择":"查看"} ${i.curRow.name||""} 定位`),y=JSON.parse(sessionStorage.getItem("webConfig")||"{}");let v=null,m=null,x=[];function S({longitude:t,latitude:e},i){if(!m)return;if(m.clear(),!t||!e)return void v.getView().setCenter(y.mapCenter);x=[+t.toFixed(6),+e.toFixed(6)];const n=new s["a"]({geometry:new u["a"](x)});m.addFeature(n),i&&v.getView().setCenter(x)}function O(t){v=t,m=new a["a"];const e=new o["a"]({source:m,style:()=>new h["b"]({image:new l["a"]({src:p.a,anchor:[.5,1]})})});if(v.addLayer(e),S(i.curRow,!0),i.isEdit){v.on("singleclick",t=>{const[e,i]=t.coordinate;S({longitude:e,latitude:i})});const t=new c["a"]({layers:[e]});v.addInteraction(t),t.on("translateend",t=>{const[e,i]=t.features.array_[0].getGeometry().flatCoordinates;x=[+e.toFixed(6),+i.toFixed(6)]})}}function b(){const t=Object(d["g"])(i.curRow);if(!t)return f.error("未找到定位");window.open(t,"_self")}return Object(n["watch"])(()=>_.value,t=>{t&&S(i.curRow,!0)}),(i,o)=>{const a=Object(n["resolveComponent"])("Button"),s=Object(n["resolveComponent"])("viModal");return Object(n["openBlock"])(),Object(n["createBlock"])(s,{modelValue:_.value,"onUpdate:modelValue":o[2]||(o[2]=t=>_.value=t),title:g.value,width:1e3},{footer:Object(n["withCtx"])(()=>[t.isEdit?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:0},[Object(n["createVNode"])(a,{onClick:o[0]||(o[0]=t=>_.value=!1)},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])("取消")]),_:1}),Object(n["createVNode"])(a,{type:"primary",onClick:o[1]||(o[1]=t=>e("confirm",Object(n["unref"])(x)))},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])("确定")]),_:1})],64)):(Object(n["openBlock"])(),Object(n["createBlock"])(a,{key:1,type:"primary",onClick:b},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])("去导航")]),_:1}))]),default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(Object(n["unref"])(r["j"]),{onOnMount:O,class:"map"})]),_:1},8,["modelValue","title"])}}},g=(i("d5da"),i("6b0d")),y=i.n(g);const v=y()(_,[["__scopeId","data-v-520df31b"]]);e["a"]=v},ce2c:function(t,e,i){"use strict";var n=i("869f"),r=i("ab35"),o=i("5c38"),a=i("e98d"),s=i("0999"),h=i("ddea"),l=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(e){var i=this,n=void 0!==e.rotateWithView&&e.rotateWithView;return i=t.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})||this,i.canvas_=void 0,i.hitDetectionCanvas_=null,i.fill_=void 0!==e.fill?e.fill:null,i.origin_=[0,0],i.points_=e.points,i.radius_=void 0!==e.radius?e.radius:e.radius1,i.radius2_=e.radius2,i.angle_=void 0!==e.angle?e.angle:0,i.stroke_=void 0!==e.stroke?e.stroke:null,i.size_=null,i.renderOptions_=null,i.render(),i}return l(e,t),e.prototype.clone=function(){var t=this.getScale(),i=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return i.setOpacity(this.getOpacity()),i},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(t){this.fill_=t,this.render()},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var i=this.renderOptions_,n=Object(s["a"])(i.size*t,i.size*t);this.draw_(i,n,t),e=n.canvas,this.canvas_[t]=e}return e},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return n["a"].LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(t){this.stroke_=t,this.render()},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,e,i){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var n=this.radius_,r=void 0===this.radius2_?n:this.radius2_;if(n<r){var o=n;n=r,r=o}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/a,h=r*Math.sin(s),l=Math.sqrt(r*r-h*h),c=n-l,u=Math.sqrt(h*h+c*c),f=u/h;if("miter"===t&&f<=i)return f*e;var p=e/2/f,d=e/2*(c/u),_=Math.sqrt((n+p)*(n+p)+d*d),g=_-n;if(void 0===this.radius2_||"bevel"===t)return 2*g;var y=n*Math.sin(s),v=Math.sqrt(n*n-y*y),m=r-v,x=Math.sqrt(y*y+m*m),S=x/y;if(S<=i){var O=S*e/2-r-n;return 2*Math.max(g,O)}return 2*g},e.prototype.createRenderOptions=function(){var t,e=h["g"],i=0,n=null,r=0,o=0;this.stroke_&&(t=this.stroke_.getColor(),null===t&&(t=h["k"]),t=Object(a["a"])(t),o=this.stroke_.getWidth(),void 0===o&&(o=h["h"]),n=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),void 0===e&&(e=h["g"]),i=this.stroke_.getMiterLimit(),void 0===i&&(i=h["i"]));var s=this.calculateLineJoinSize_(e,o,i),l=Math.max(this.radius_,this.radius2_||0),c=Math.ceil(2*l+s);return{strokeStyle:t,strokeWidth:o,size:c,lineDash:n,lineDashOffset:r,lineJoin:e,miterLimit:i}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,e,i){if(e.scale(i,i),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var n=this.fill_.getColor();null===n&&(n=h["b"]),e.fillStyle=Object(a["a"])(n),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),i=0;if("string"===typeof e&&(e=Object(o["a"])(e)),null===e?i=1:Array.isArray(e)&&(i=4===e.length?e[3]:1),0===i){var n=Object(s["a"])(t.size,t.size);this.hitDetectionCanvas_=n.canvas,this.drawHitDetectionCanvas_(t,n)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var e=this.points_,i=this.radius_;if(e===1/0)t.arc(0,0,i,0,2*Math.PI);else{var n=void 0===this.radius2_?i:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var r=this.angle_-Math.PI/2,o=2*Math.PI/e,a=0;a<e;a++){var s=r+a*o,h=a%2===0?i:n;t.lineTo(h*Math.cos(s),h*Math.sin(s))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=h["b"],e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e}(r["a"]),u=c,f=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(t){function e(e){var i=e||{};return t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:void 0!==i.scale?i.scale:1,rotation:void 0!==i.rotation?i.rotation:0,rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView,displacement:void 0!==i.displacement?i.displacement:[0,0],declutterMode:i.declutterMode})||this}return f(e,t),e.prototype.clone=function(){var t=this.getScale(),i=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return i.setOpacity(this.getOpacity()),i},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(u);e["a"]=p},d051:function(t,e,i){"use strict";var n=i("e300"),r=i("cef7"),o=i("bf62"),a=i("4105"),s=i("57cb"),h=i("06f8"),l=i("9f5e"),c=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"},f=function(t){function e(e,i,n,r,o){var a=t.call(this,e)||this;return a.features=i,a.coordinate=n,a.startCoordinate=r,a.mapBrowserEvent=o,a}return c(e,t),e}(r["a"]),p=function(t){function e(e){var i,n=this,r=e||{};if(n=t.call(this,r)||this,n.on,n.once,n.un,n.lastCoordinate_=null,n.startCoordinate_=null,n.features_=void 0!==r.features?r.features:null,r.layers&&!n.features_)if("function"===typeof r.layers)i=r.layers;else{var a=r.layers;i=function(t){return Object(l["c"])(a,t)}}else i=s["b"];return n.layerFilter_=i,n.filter_=r.filter&&!n.features_?r.filter:s["b"],n.hitTolerance_=r.hitTolerance?r.hitTolerance:0,n.condition_=r.condition?r.condition:h["c"],n.lastFeature_=null,n.addChangeListener(o["a"].ACTIVE,n.handleActiveChanged_),n}return c(e,t),e.prototype.handleDownEvent=function(t){if(!t.originalEvent||!this.condition_(t))return!1;if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=t.coordinate,this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);var e=this.features_||new n["a"]([this.lastFeature_]);return this.dispatchEvent(new f(u.TRANSLATESTART,e,t.coordinate,this.startCoordinate_,t)),!0}return!1},e.prototype.handleUpEvent=function(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);var e=this.features_||new n["a"]([this.lastFeature_]);return this.dispatchEvent(new f(u.TRANSLATEEND,e,t.coordinate,this.startCoordinate_,t)),this.startCoordinate_=null,!0}return!1},e.prototype.handleDragEvent=function(t){if(this.lastCoordinate_){var e=t.coordinate,i=e[0]-this.lastCoordinate_[0],r=e[1]-this.lastCoordinate_[1],o=this.features_||new n["a"]([this.lastFeature_]);o.forEach((function(t){var e=t.getGeometry();e.translate(i,r),t.setGeometry(e)})),this.lastCoordinate_=e,this.dispatchEvent(new f(u.TRANSLATING,o,e,this.startCoordinate_,t))}},e.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},e.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t,e){if(this.filter_(t,e)&&(!this.features_||Object(l["c"])(this.features_.getArray(),t)))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var i=this.getMap();t.prototype.setMap.call(this,e),this.updateState_(i)},e.prototype.handleActiveChanged_=function(){this.updateState_(null)},e.prototype.updateState_=function(t){var e=this.getMap(),i=this.getActive();if((!e||!i)&&(e=e||t,e)){var n=e.getViewport();n.classList.remove("ol-grab","ol-grabbing")}},e}(a["b"]);e["a"]=p},d5da:function(t,e,i){"use strict";i("80e4")},e47c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACvElEQVRYR7WXP2gUQRTGv3eb3TWIYJGAIdlFkXi7GBSMlZJgIQYEEURJJbHQaCMiFunUa8UihSAqYkijjQgBEYMYFcFGiyDk7lAJN5eoRG01t5u7J5uL4bzbP3OX3Wnnve/77cybN7OEFsenbeh0ddUgBrWT+nV74fe3VqSomaQ5QxtOgQcBnAJRZ30uARMVxrRddB7K6koBZE11lECjAPplhBn0hogyVmH5ZVR8JEDO1B4BGI4S8ptnYNIWzkhYbihAztSeAjjainltjiWcQJ/AibypXWPg+kbNq/l02RKlcT8tX4CsoR8h4ufxmFdVVoDdfcKZ8yncRpucqU0COB0nAIDHlnBORgJku/VdpHA+ZvPqRoBH0sL1Pm59NGxB1tCvEPHNRAAIT9IF50QoQM5QZ0B0KAkAT7P+RDSsQM7UPgPYmRSAUlaM3sU/C//0/QCWAehJATBVDtiFlXfBAIa65Nfn4wLiCvbYC87HsBX4AGBfXIb1Olx2OuxF/AoEyJvaAwbOJASwaAmnJ+oUXADR7SQAGMjYwvmvvTf2AVPtJ9D7ZAB4vy1cb4uDG5E3kzf1Owz27v/YBoHupkXpfL2g72WU36Hu5XLqBcAd8RDQT1Iqh9Pz7qwUgBeUNdVzHnUcAN5q2sK956cV8SBRxwG6tBEIZr5lF92LQRqRT7KsqU0RcKxFiGlLOENhuZEAs93tPbpSfgagr0mIAhQasuZLoVd7JMDqqTDaBphSHsRmaQim41axNBUVLwWwVpQjBJqIElybH7OEc0MmVhqgCqFlCLgaKsx03yqWzsqYezFNAVSblDbJge9FemuJ0oCseUsAM0Bbl6m/AvhgrRGBl1hJDUYVnXQjCvuKLz16r5vi1wC61uMkiy4WgNV6MPQhIvZ+27YCkC662AA8oVwHtiht2NT7HT+a2ffa2L/0LdAhIK9hBgAAAABJRU5ErkJggg=="},e98d:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("5c38");function r(t){return Array.isArray(t)?Object(n["c"])(t):t}}}]);