(function(e){function n(n){for(var c,o,i=n[0],u=n[1],s=n[2],d=0,h=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(e[c]=u[c]);f&&f(n);while(h.length)h.shift()();return a.push.apply(a,s||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],c=!0,o=1;o<t.length;o++){var i=t[o];0!==r[i]&&(c=!1)}c&&(a.splice(n--,1),e=u(u.s=t[0]))}return e}var c={},o={app:0},r={app:0},a=[];function i(e){return u.p+"public/js/"+({}[e]||e)+"."+{"chunk-00e750a0":"623f1351","chunk-d5cdd612":"6ee27c38","chunk-49558b64":"c8ff6403","chunk-73bd9fad":"ecf71269","chunk-f308f3c2":"29efde4e","chunk-1c827c84":"d9458656","chunk-094687c4":"adf96e73","chunk-0b0f787e":"915c774b","chunk-0bee1a39":"92c1860c","chunk-6f75db1e":"2422f260","chunk-70bb0681":"0b9eae50","chunk-164836c6":"001b9d86","chunk-1d532590":"2f09459e","chunk-083dd039":"64efb9a5","chunk-152163df":"e965ced2","chunk-2baacb9c":"880a59c2","chunk-498609d5":"a42fe51c","chunk-2d2085ed":"07482248","chunk-2d21de33":"7530148d","chunk-ea0ba0d4":"f3b55715","chunk-dfa085e2":"21fb7fd4","chunk-27bf78e8":"2c96fdb4","chunk-23b00ee2":"dd2c98f3","chunk-40397286":"10119019","chunk-4a0b5446":"df338ae3","chunk-bb8c3650":"3a0fcb49","chunk-136712c3":"95504458","chunk-361146af":"87b769ad","chunk-f0098510":"c1ff192f","chunk-2d0f0481":"bcb2f804","chunk-371e81fd":"0a71f882","chunk-62b22821":"64cbb4af","chunk-109b8712":"92760547","chunk-34b11b44":"cd5ddadd","chunk-3dfa692d":"008d3af9","chunk-00ac5a05":"5e789146","chunk-3667e262":"f791d1bd","chunk-3ffe0313":"1dc6ea41","chunk-4133e988":"6d81c874","chunk-4712c4e8":"9b619ebf","chunk-48278ea8":"b76f28fb","chunk-49cf2582":"297bb62b","chunk-52f5b9f4":"789ce47c","chunk-5b153833":"746ae357","chunk-5e4e0242":"938b2e3a","chunk-604785eb":"81134e3b","chunk-6729283c":"1b77f516","chunk-6877a48e":"9b4b4082","chunk-6ce59c4d":"e1ecb534","chunk-a8e630e6":"ac990505","chunk-723199bd":"d03721b3","chunk-2d0df064":"9d5543fe","chunk-6a79e2f7":"3bfc94be","chunk-fef28e10":"358a6c8d","chunk-2085440e":"a7c3e0b3","chunk-2d216214":"f66ae056"}[e]+".js"}function u(n){if(c[n])return c[n].exports;var t=c[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.e=function(e){var n=[],t={"chunk-d5cdd612":1,"chunk-49558b64":1,"chunk-73bd9fad":1,"chunk-1c827c84":1,"chunk-094687c4":1,"chunk-0b0f787e":1,"chunk-6f75db1e":1,"chunk-164836c6":1,"chunk-083dd039":1,"chunk-152163df":1,"chunk-2baacb9c":1,"chunk-498609d5":1,"chunk-dfa085e2":1,"chunk-23b00ee2":1,"chunk-4a0b5446":1,"chunk-361146af":1,"chunk-f0098510":1,"chunk-371e81fd":1,"chunk-62b22821":1,"chunk-109b8712":1,"chunk-00ac5a05":1,"chunk-3667e262":1,"chunk-3ffe0313":1,"chunk-4133e988":1,"chunk-4712c4e8":1,"chunk-48278ea8":1,"chunk-49cf2582":1,"chunk-52f5b9f4":1,"chunk-5b153833":1,"chunk-5e4e0242":1,"chunk-604785eb":1,"chunk-6729283c":1,"chunk-6877a48e":1,"chunk-6ce59c4d":1,"chunk-a8e630e6":1,"chunk-723199bd":1,"chunk-6a79e2f7":1,"chunk-fef28e10":1};o[e]?n.push(o[e]):0!==o[e]&&t[e]&&n.push(o[e]=new Promise((function(n,t){for(var c="public/css/"+({}[e]||e)+"."+{"chunk-00e750a0":"31d6cfe0","chunk-d5cdd612":"93f5a9f2","chunk-49558b64":"0b363804","chunk-73bd9fad":"ef46116b","chunk-f308f3c2":"31d6cfe0","chunk-1c827c84":"6c030382","chunk-094687c4":"78885b94","chunk-0b0f787e":"bdc05c4f","chunk-0bee1a39":"31d6cfe0","chunk-6f75db1e":"0e8e47b9","chunk-70bb0681":"31d6cfe0","chunk-164836c6":"e1e0fcb8","chunk-1d532590":"31d6cfe0","chunk-083dd039":"bc152464","chunk-152163df":"2632b549","chunk-2baacb9c":"3c89305b","chunk-498609d5":"73520ff1","chunk-2d2085ed":"31d6cfe0","chunk-2d21de33":"31d6cfe0","chunk-ea0ba0d4":"31d6cfe0","chunk-dfa085e2":"0d655892","chunk-27bf78e8":"31d6cfe0","chunk-23b00ee2":"dbd273da","chunk-40397286":"31d6cfe0","chunk-4a0b5446":"601aa32b","chunk-bb8c3650":"31d6cfe0","chunk-136712c3":"31d6cfe0","chunk-361146af":"f941bf72","chunk-f0098510":"bab3b269","chunk-2d0f0481":"31d6cfe0","chunk-371e81fd":"7ff200b0","chunk-62b22821":"49e46c4b","chunk-109b8712":"29f48853","chunk-34b11b44":"31d6cfe0","chunk-3dfa692d":"31d6cfe0","chunk-00ac5a05":"7cb32786","chunk-3667e262":"4dcfb24a","chunk-3ffe0313":"6176f6eb","chunk-4133e988":"6d918c49","chunk-4712c4e8":"d11e3a5a","chunk-48278ea8":"a8824771","chunk-49cf2582":"71b7b28b","chunk-52f5b9f4":"551445cf","chunk-5b153833":"ef8cfc99","chunk-5e4e0242":"1d229aa7","chunk-604785eb":"e57acd83","chunk-6729283c":"92a3350c","chunk-6877a48e":"8e152067","chunk-6ce59c4d":"9b978d56","chunk-a8e630e6":"8b42c7a9","chunk-723199bd":"a7ef8ccc","chunk-2d0df064":"31d6cfe0","chunk-6a79e2f7":"10aee3d0","chunk-fef28e10":"b63826ca","chunk-2085440e":"31d6cfe0","chunk-2d216214":"31d6cfe0"}[e]+".css",r=u.p+c,a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var s=a[i],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===c||d===r))return n()}var h=document.getElementsByTagName("style");for(i=0;i<h.length;i++){s=h[i],d=s.getAttribute("data-href");if(d===c||d===r)return n()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=n,f.onerror=function(n){var c=n&&n.target&&n.target.src||r,a=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=c,delete o[e],f.parentNode.removeChild(f),t(a)},f.href=r;var l=document.getElementsByTagName("head")[0];l.appendChild(f)})).then((function(){o[e]=0})));var c=r[e];if(0!==c)if(c)n.push(c[2]);else{var a=new Promise((function(n,t){c=r[e]=[n,t]}));n.push(c[2]=a);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=i(e);var h=new Error;s=function(n){d.onerror=d.onload=null,clearTimeout(f);var t=r[e];if(0!==t){if(t){var c=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;h.message="Loading chunk "+e+" failed.\n("+c+": "+o+")",h.name="ChunkLoadError",h.type=c,h.request=o,t[1](h)}r[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(n)},u.m=e,u.c=c,u.d=function(e,n,t){u.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,n){if(1&n&&(e=u(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(u.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var c in e)u.d(t,c,function(n){return e[n]}.bind(null,c));return t},u.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(n,"a",n),n},u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},u.p="https://gcore.jsdelivr.net/gh/lianjingpifa/lianjingpifa.github.io/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=n,s=s.slice();for(var h=0;h<s.length;h++)n(s[h]);var f=d;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},1:function(e,n){},"2af9":function(e,n,t){"use strict";t.d(n,"f",(function(){return o})),t.d(n,"g",(function(){return r})),t.d(n,"h",(function(){return a})),t.d(n,"o",(function(){return i})),t.d(n,"s",(function(){return u})),t.d(n,"q",(function(){return s})),t.d(n,"n",(function(){return d})),t.d(n,"l",(function(){return h})),t.d(n,"m",(function(){return f})),t.d(n,"i",(function(){return l})),t.d(n,"b",(function(){return b})),t.d(n,"c",(function(){return p})),t.d(n,"a",(function(){return m})),t.d(n,"j",(function(){return k})),t.d(n,"p",(function(){return g})),t.d(n,"k",(function(){return w})),t.d(n,"r",(function(){return y})),t.d(n,"d",(function(){return v})),t.d(n,"e",(function(){return O}));var c=t("7a23");const o=Object(c["defineAsyncComponent"])(()=>t.e("chunk-094687c4").then(t.bind(null,"66c5"))),r=Object(c["defineAsyncComponent"])(()=>t.e("chunk-4133e988").then(t.bind(null,"a268"))),a=Object(c["defineAsyncComponent"])(()=>t.e("chunk-3ffe0313").then(t.bind(null,"44dd"))),i=Object(c["defineAsyncComponent"])(()=>t.e("chunk-48278ea8").then(t.bind(null,"f5e0"))),u=Object(c["defineAsyncComponent"])(()=>Promise.all([t.e("chunk-1d532590"),t.e("chunk-152163df")]).then(t.bind(null,"7171"))),s=Object(c["defineAsyncComponent"])(()=>Promise.all([t.e("chunk-2d21de33"),t.e("chunk-0bee1a39"),t.e("chunk-40397286"),t.e("chunk-27bf78e8"),t.e("chunk-4a0b5446")]).then(t.bind(null,"32bf"))),d=Object(c["defineAsyncComponent"])(()=>t.e("chunk-49cf2582").then(t.bind(null,"52ef"))),h=(Object(c["defineAsyncComponent"])(()=>t.e("chunk-2d2085ed").then(t.bind(null,"a503"))),Object(c["defineAsyncComponent"])(()=>Promise.all([t.e("chunk-2baacb9c"),t.e("chunk-498609d5")]).then(t.bind(null,"bf96")))),f=Object(c["defineAsyncComponent"])(()=>t.e("chunk-2baacb9c").then(t.bind(null,"8339"))),l=Object(c["defineAsyncComponent"])(()=>t.e("chunk-604785eb").then(t.bind(null,"3c93"))),b=Object(c["defineAsyncComponent"])(()=>Promise.all([t.e("chunk-0bee1a39"),t.e("chunk-70bb0681")]).then(t.bind(null,"0500"))),p=Object(c["defineAsyncComponent"])(()=>t.e("chunk-4712c4e8").then(t.bind(null,"fa97"))),m=Object(c["defineAsyncComponent"])(()=>Promise.all([t.e("chunk-f308f3c2"),t.e("chunk-2d0df064")]).then(t.bind(null,"87c2"))),k=Object(c["defineAsyncComponent"])(()=>Promise.all([t.e("chunk-0bee1a39"),t.e("chunk-00e750a0"),t.e("chunk-6f75db1e")]).then(t.bind(null,"b336"))),g=Object(c["defineAsyncComponent"])(()=>Promise.all([t.e("chunk-2d21de33"),t.e("chunk-40397286"),t.e("chunk-2d0f0481")]).then(t.bind(null,"9c67"))),w=Object(c["defineAsyncComponent"])(()=>t.e("chunk-5b153833").then(t.bind(null,"1ec7"))),y=Object(c["defineAsyncComponent"])(()=>Promise.all([t.e("chunk-3dfa692d"),t.e("chunk-00ac5a05")]).then(t.bind(null,"0eb6"))),v=Object(c["defineAsyncComponent"])(()=>Promise.all([t.e("chunk-2d21de33"),t.e("chunk-40397286"),t.e("chunk-371e81fd")]).then(t.bind(null,"6b05"))),O=Object(c["defineAsyncComponent"])(()=>Promise.all([t.e("chunk-1d532590"),t.e("chunk-083dd039")]).then(t.bind(null,"a6e1")))},"34ef":function(e,n,t){},4360:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return i}));t("14d9");var c=t("be92"),o=t("eeb9"),r=t("ed08");const a=Object(c["b"])("dict",{state:()=>({dictMap:{}}),getters:{dictObj(){const e={};for(let n in this.dictMap)e[n]={},this.dictMap[n].forEach(t=>{e[n][t.id]=t.name});return e}},actions:{translate(e,n){return this.dictObj[e]?null===n||void 0===n?void 0:n.split(",").map(n=>this.dictObj[e][n]||"").join("，"):""},async getDict(){try{const{returnCode:e,data:n}=await Object(o["o"])()||{};0===e&&(this.dictMap=n)}catch(e){r["b"].error("获取字典失败："+(e.message||e))}},saveSort(e,n){this.dictMap[e]=n.map((e,n)=>(e.index=n+1,e))},saveDict(e){const{type:n,id:t}=e;if(!this.dictMap[n])return void(this.dictMap[n]=[e]);const c=this.dictMap[n].findIndex(e=>e.id===t);-1===c?this.dictMap[n].push(e):this.dictMap[n][c]=e,this.dictMap[n]=this.dictMap[n].map((e,n)=>(e.index=n+1,e))},deleteDict(e,n){if(!this.dictMap[e])return;const t=this.dictMap[e].findIndex(e=>e.id===n);this.dictMap[e].splice(t,1)}}}),i=Object(c["b"])("user",{state:()=>({power:99,userInfo:{}}),actions:{setUserInfo(e){this.userInfo=e},setPower(e){this.power=e?+e:99}}})},"56d7":function(e,n,t){"use strict";t.r(n);var c=t("4e97"),o=t("18ec"),r=t("6a5a"),a=t("77c5"),i=t("5201"),u=t("d3b1"),s=t("ffcd"),d=t("456c"),h=t("a22d"),f=t("7a23"),l=t("e02b"),b=t("ed08"),p={__name:"App",setup(e){return Object(f["provide"])("$Message",b["b"]),Object(f["provide"])("$Modal",l["a"]),Object(f["provide"])("$Auth",b["a"]),Object(f["onMounted"])(()=>{Object(b["m"])()}),Object(f["onBeforeUnmount"])(()=>{window.socket&&window.socket.close(),window.socket=null}),(e,n)=>{const t=Object(f["resolveComponent"])("router-view");return Object(f["openBlock"])(),Object(f["createBlock"])(t)}}};t("9043");const m=p;var k=m,g=(t("6e0c"),t("27ec"),t("157a"),t("b749"),t("341e")),w=t("6c44"),y=t("014e"),v=t("a2f3"),O=t("2af9"),j=t("be92"),M=t("a18c");const P=Object(f["createApp"])(k);P.component("Button",h["a"]),P.component("Icon",d["a"]),P.component("Form",s["a"]),P.component("FormItem",u["a"]),P.component("Spin",i["a"]),P.component("Badge",a["a"]),P.component("RadioGroup",r["a"]),P.component("Radio",o["a"]),P.component("Option",c["a"]),P.use(g["a"]).use(w["a"]).use(y["a"]).use(v["a"]),P.component("viInput",O["f"]),P.component("viInputNumber",O["g"]),P.component("viLayoutUpDown",O["h"]),P.component("viSearchForm",O["o"]),P.component("viTablePage",O["q"]),P.component("viEmpty",O["c"]),P.component("viSelect",O["p"]),P.component("viModal",O["k"]),window.$EventBus=b["c"],window.isMobile=b["i"];const C=JSON.parse(sessionStorage.getItem("webConfig")||"{}");document.title=C.appName||"",window.APPNAME=C.appName||"";const S=Object(j["a"])();P.use(S),P.use(M["a"]).mount("#app")},"6e0c":function(e,n,t){},9043:function(e,n,t){"use strict";t("34ef")},a18c:function(e,n,t){"use strict";var c=t("6605"),o=t("ed08"),r=t("4360");const a=[{path:"/",redirect:{name:window.location.hostname.includes("cloudns")?"test":"login"}},{path:"/test",name:"test",component:()=>t.e("chunk-164836c6").then(t.bind(null,"feda"))},{path:"/login",name:"login",component:()=>t.e("chunk-a8e630e6").then(t.bind(null,"9ed6"))},{path:"/home",name:"home",component:()=>Promise.all([t.e("chunk-2d21de33"),t.e("chunk-62b22821")]).then(t.bind(null,"7abe")),children:[{path:"/cashierMng",name:"cashierMng",meta:{power:2},component:()=>Promise.all([t.e("chunk-2d21de33"),t.e("chunk-0bee1a39"),t.e("chunk-27bf78e8"),t.e("chunk-23b00ee2")]).then(t.bind(null,"9b2d"))},{path:"/goodMng",name:"goodMng",meta:{power:2},component:()=>t.e("chunk-5e4e0242").then(t.bind(null,"6746"))},{path:"/userMng",name:"userMng",meta:{power:2},component:()=>Promise.all([t.e("chunk-2d21de33"),t.e("chunk-00e750a0"),t.e("chunk-d5cdd612"),t.e("chunk-ea0ba0d4"),t.e("chunk-dfa085e2")]).then(t.bind(null,"f642"))},{path:"/orderMng",name:"orderMng",meta:{power:2},component:()=>Promise.all([t.e("chunk-2d21de33"),t.e("chunk-ea0ba0d4"),t.e("chunk-109b8712")]).then(t.bind(null,"7e0a"))},{path:"/specialMng",name:"specialMng",meta:{power:2},component:()=>t.e("chunk-6729283c").then(t.bind(null,"16f7"))},{path:"/statistiAnalysis",name:"statistiAnalysis",meta:{power:2},component:()=>Promise.all([t.e("chunk-2d21de33"),t.e("chunk-0bee1a39"),t.e("chunk-ea0ba0d4"),t.e("chunk-136712c3"),t.e("chunk-f0098510")]).then(t.bind(null,"6504"))},{path:"/dictMng",name:"dictMng",meta:{power:2},component:()=>Promise.all([t.e("chunk-2d21de33"),t.e("chunk-0bee1a39"),t.e("chunk-bb8c3650"),t.e("chunk-136712c3"),t.e("chunk-361146af")]).then(t.bind(null,"57e2"))},{path:"/configMng",name:"configMng",meta:{power:1},component:()=>Promise.all([t.e("chunk-00e750a0"),t.e("chunk-d5cdd612"),t.e("chunk-73bd9fad")]).then(t.bind(null,"2b2d"))}]},{path:"/mobileHome",name:"mobileHome",component:()=>t.e("chunk-0b0f787e").then(t.bind(null,"2404")),children:[{path:"/mobileGood",name:"mobileGood",component:()=>t.e("chunk-6ce59c4d").then(t.bind(null,"2e7e"))},{path:"/mobileCashier",name:"mobileCashier",component:()=>t.e("chunk-6877a48e").then(t.bind(null,"7a37"))},{path:"/mobileOrder",name:"mobileOrder",component:()=>Promise.all([t.e("chunk-f308f3c2"),t.e("chunk-6a79e2f7")]).then(t.bind(null,"51d9"))},{path:"/mobileUser",name:"mobileUser",meta:{power:3},component:()=>Promise.all([t.e("chunk-00e750a0"),t.e("chunk-d5cdd612"),t.e("chunk-f308f3c2"),t.e("chunk-1c827c84")]).then(t.bind(null,"1b20"))},{path:"/mobileSpecial",name:"mobileSpecial",meta:{title:"特价管理",power:3},component:()=>t.e("chunk-52f5b9f4").then(t.bind(null,"8eab"))},{path:"/mobileDict",name:"mobileDict",meta:{title:"字典管理",power:2},component:()=>Promise.all([t.e("chunk-bb8c3650"),t.e("chunk-723199bd")]).then(t.bind(null,"b617"))},{path:"/mobileMy",name:"mobileMy",component:()=>t.e("chunk-fef28e10").then(t.bind(null,"a345"))},{path:"/mobileEnter",name:"mobileEnter",meta:{title:"扫码录入",power:2},component:()=>t.e("chunk-34b11b44").then(t.bind(null,"269b"))},{path:"/mobileConfig",name:"mobileConfig",meta:{title:"配置中心",power:1},component:()=>Promise.all([t.e("chunk-00e750a0"),t.e("chunk-d5cdd612"),t.e("chunk-49558b64")]).then(t.bind(null,"765f"))}]},{path:"/database",name:"database",meta:{power:1},component:()=>Promise.all([t.e("chunk-3dfa692d"),t.e("chunk-3667e262")]).then(t.bind(null,"211c"))},{path:"/:pathMatch(.*)*",redirect:{name:"home"}}],i=Object(c["a"])({history:Object(c["b"])(),routes:a});i.beforeEach(async(e,n,t)=>{var c;if(e.query.token)try{await Object(o["j"])(e.query.token)}catch(h){o["b"].error("自动登录失败："+(h.message||h)),t("/login")}if("/login"===e.path||"/test"===e.path)return t();if(!sessionStorage.getItem("authorization"))return"/"===e.path?t("/login"):t({path:"/login",query:{realName:e.name,query:JSON.stringify(e.query),params:JSON.stringify(e.params)}});const u=Object(r["b"])();if(!sessionStorage.getItem("userInfo"))return t("/login");{const e=JSON.parse(sessionStorage.getItem("userInfo"));u.setUserInfo(e),u.setPower(e.power)}let s;if(window.isMobile&&!e.name.includes("mobile")?s=`/mobile${e.name[0].toUpperCase()}${e.name.slice(1).replace("Mng","")}`:!window.isMobile&&e.name.includes("mobile")&&Object(o["a"])(2)&&(s=`/${e.name.replace("mobile","").toLowerCase()}Mng`),s){const n=i.getRoutes();if(!n.find(e=>e.path===s)){if(n.find(n=>n.path===e.path))return t();s=window.isMobile?"/mobileHome":"/home"}return t({path:s,query:e.query,params:e.params})}if(["home","mobileHome"].includes(e.name)){const{children:n}=a.find(n=>n.name===e.name)||{},{path:c}=(null===n||void 0===n?void 0:n.find(e=>{var n;return Object(o["a"])(null===(n=e.meta)||void 0===n?void 0:n.power)}))||{};return t(c?{path:c}:"mobileHome")}if(!Object(o["a"])(null===(c=e.meta)||void 0===c?void 0:c.power))return t(!1);const d=Object(r["a"])();return"{}"===JSON.stringify(d.dictMap)&&d.getDict(),t()}),n["a"]=i},c466:function(e,n){Date.prototype.format=function(e){const n={"M+":this.getMonth()+1,"D+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),Q:"Q"+Math.ceil((this.getMonth()+1)/3)};/(Y+)/.test(e)&&(e=e.replace(RegExp.$1,(""+this.getFullYear()).substr(4-RegExp.$1.length)));for(let t in n)new RegExp(`(${t})`).test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[t]:("00"+n[t]).substr((""+n[t]).length)));return e},Date.prototype.subtract=function(e=1,n="days"){return"days"===n?new Date(this.setDate(this.getDate()-e)):"months"===n?new Date(this.setMonth(this.getMonth()-e)):"years"===n?new Date(this.setFullYear(this.getFullYear()-e)):"quarters"===n?new Date(this.setMonth(this.getMonth()-3*e)):void 0},Date.prototype.add=function(e=1,n="days"){return"days"===n?new Date(this.setDate(this.getDate()+e)):"months"===n?new Date(this.setMonth(this.getMonth()+e)):"years"===n?new Date(this.setFullYear(this.getFullYear()+e)):"quarters"===n?new Date(this.setMonth(this.getMonth()+3*e)):void 0},Date.prototype.startOf=function(e="day"){if("day"==e)return new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0,0);if("week"==e){const e=this.getDay(),n=0==e?6:e-1;return new Date(this.getFullYear(),this.getMonth(),this.getDate()-n,0,0,0,0)}return"month"==e?new Date(this.getFullYear(),this.getMonth(),1,0,0,0,0):"year"==e?new Date(this.getFullYear(),0,1,0,0,0,0):void 0},Date.prototype.endOf=function(e="day"){if("day"==e)return new Date(this.getFullYear(),this.getMonth(),this.getDate(),23,59,59,999);if("week"==e){const e=this.getDay(),n=0==e?0:7-e;return new Date(this.getFullYear(),this.getMonth(),this.getDate()+n,23,59,59,999)}if("month"==e){const e=[31,28,31,30,31,30,31,31,30,31,30,31],n=e=>e%4===0&&e%100!==0||e%400===0,t=(t,c)=>1===c&&n(t)?29:e[c],c=t(this.getFullYear(),this.getMonth());return new Date(this.getFullYear(),this.getMonth(),c,23,59,59,999)}return"year"==e?new Date(this.getFullYear(),11,31,23,59,59,999):void 0}},ed08:function(e,n,t){"use strict";t.d(n,"c",(function(){return o})),t.d(n,"i",(function(){return a})),t.d(n,"g",(function(){return i})),t.d(n,"f",(function(){return u})),t.d(n,"m",(function(){return s})),t.d(n,"h",(function(){return f})),t.d(n,"d",(function(){return y})),t.d(n,"l",(function(){return v})),t.d(n,"n",(function(){return j})),t.d(n,"j",(function(){return M})),t.d(n,"k",(function(){return P})),t.d(n,"e",(function(){return O})),t.d(n,"b",(function(){return x})),t.d(n,"a",(function(){return $}));t("c466"),t("14d9");class c{constructor(){this.list={}}$on(e,n){this.list[e]=this.list[e]||[],this.list[e].push(n)}$emit(e,n){this.list[e]&&this.list[e].forEach(e=>{e(n)})}$off(e){this.list[e]&&delete this.list[e]}}var o=new c,r=t("eeb9");const a=/(ipod|iphone|android|coolpad|mmp|smartphone|midp|wap|xoom|symbian|j2me|blackberry|wince)/i.test(navigator.userAgent);function i({longitude:e,latitude:n,name:t}){if(e&&n){if(a)return`https://uri.amap.com/navigation?to=${e},${n},${t||"终点"}&policy=1&src=mypage`;{const c=JSON.parse(sessionStorage.getItem("webConfig")||"{}"),{mapCenter:o}=c;return`https://uri.amap.com/navigation?from=${o[0]},${o[1]},起点&to=${e},${n},${t||"终点"}&policy=1&src=mypage`}}}function u(){let e="";return e=window.baseURL,e}async function s(){try{0;const{data:e}=await Object(r["B"])()||{},n=e.match(/"([^"]*)"/g);if(n&&n[0]){const e=n[0].slice(1,-1);if("https://lianjing.cloudns.biz"!=e){const n=await Object(r["d"])(e)||{},{data:t}=n.data||{};if("I'm cpolar check"!=t)return!1}return window.baseURL=e,O(),!0}}catch(e){console.error(e.message||e)}}let d=null,h=0;function f(){if("https://lianjing.cloudns.biz"===window.baseURL)x.error("接口异常，请刷新重试");else{var e;if(x.error(`外网服务未开启${(null===(e=window.baseURL)||void 0===e?void 0:e.match(/(?![.])([^/.]*)(?=\.)/)[0])||""}，已切换为云服务，请重试`),window.baseURL="https://lianjing.cloudns.biz",d)return;d=setInterval(async()=>{const e=await s();(e||++h>4)&&(clearInterval(d),d=null,h=0)},3e4)}}var l=t("5201"),b=t("3452"),p=t.n(b),m=t("a18c");const k=p.a.enc.Utf8.parse("47FC4124CF94E070"),g=p.a.enc.Utf8.parse("ovOh2xYoRdfATob6");function w(e){const n=p.a.enc.Utf8.parse(e),t=p.a.AES.encrypt(n,k,{iv:g,mode:p.a.mode.CBC,padding:p.a.pad.Pkcs7}),c=p.a.enc.Base64.stringify(t.ciphertext);return encodeURIComponent(c)}function y(e){e=decodeURIComponent(e);const n=p.a.enc.Base64.parse(e),t=p.a.enc.Base64.stringify(n),c=p.a.AES.decrypt(t,k,{iv:g,mode:p.a.mode.CBC,padding:p.a.pad.Pkcs7}),o=c.toString(p.a.enc.Utf8);return o.toString()}function v(e){return p.a.MD5(e).toString()}function O(){try{if(window.socket)return;let e="";e=u()||"";const n=`${e.replace(/^http/,"ws")}/socket/${(new Date).format("YYYYMMDDHHmmss")}`;window.socket=new WebSocket(n),window.socket.addEventListener("open",()=>{console.log("连接ws",n)}),window.socket.addEventListener("message",e=>{try{const n=JSON.parse(e.data),{type:t,...c}=n;o.$emit(t,c)}catch(n){o.$emit(e.data)}}),window.socket.addEventListener("close",()=>{console.log("关闭ws")})}catch(e){console.log("连接ws失败",e.message||e)}}function j(e,n){if(e.password){var t;const c=w(`${e.userName||(null===(t=n.user)||void 0===t?void 0:t.nickName)}/${e.password}`);sessionStorage.setItem("token",c),localStorage.getItem("remember")&&localStorage.setItem("token",c)}sessionStorage.setItem("authorization",n.Authorization),sessionStorage.setItem("webConfig",JSON.stringify(n.webConfig)),document.title=n.webConfig.appName,window.APPNAME=n.webConfig.appName,sessionStorage.setItem("imagePrefix",n.imagePrefix),O(),sessionStorage.setItem("userInfo",JSON.stringify(n.user))}async function M(e){try{var n;l["a"].show();const[t,c]=null===(n=y(e))||void 0===n?void 0:n.split("/"),{returnCode:o,data:a}=await Object(r["F"])({userName:t,password:c})||{};0===o&&(j({userName:t,password:c},a),m["a"].replace("/home"))}finally{l["a"].hide()}}function P(){const e=sessionStorage.getItem("wxid");m["a"].replace("/login?from=logout"+(e?"&wxid="+e:"")),sessionStorage.clear(),window.socket&&window.socket.close(),window.socket=null}var C=t("b5c5"),S=t("6c43");C["a"].config({duration:3});const D=C["a"],A={duration:3e3,className:"van-toast van-toast-120"},I={success:e=>Object(S["b"])({message:e.replace(/<br>/g,"\n"),...A}),error:e=>Object(S["a"])({message:e.replace(/<br>/g,"\n"),...A}),info:e=>Object(S["c"])({message:e.replace(/<br>/g,"\n"),...A})},U=a?I:D;var x=U,E=t("4360"),$=(e=99)=>{const n=Object(E["b"])(),t=+n.power;return!(t>e)}},eeb9:function(e,n,t){"use strict";t.d(n,"B",(function(){return h})),t.d(n,"d",(function(){return f})),t.d(n,"t",(function(){return l})),t.d(n,"F",(function(){return b})),t.d(n,"H",(function(){return p})),t.d(n,"c",(function(){return m})),t.d(n,"I",(function(){return k})),t.d(n,"L",(function(){return g})),t.d(n,"T",(function(){return w})),t.d(n,"u",(function(){return y})),t.d(n,"h",(function(){return v})),t.d(n,"m",(function(){return O})),t.d(n,"D",(function(){return j})),t.d(n,"O",(function(){return M})),t.d(n,"U",(function(){return P})),t.d(n,"C",(function(){return C})),t.d(n,"p",(function(){return S})),t.d(n,"k",(function(){return D})),t.d(n,"n",(function(){return A})),t.d(n,"E",(function(){return I})),t.d(n,"b",(function(){return U})),t.d(n,"q",(function(){return x})),t.d(n,"P",(function(){return E})),t.d(n,"G",(function(){return $})),t.d(n,"M",(function(){return N})),t.d(n,"v",(function(){return B})),t.d(n,"i",(function(){return R})),t.d(n,"s",(function(){return F})),t.d(n,"x",(function(){return L})),t.d(n,"N",(function(){return Y})),t.d(n,"w",(function(){return q})),t.d(n,"j",(function(){return T})),t.d(n,"z",(function(){return J})),t.d(n,"A",(function(){return _})),t.d(n,"y",(function(){return z})),t.d(n,"Q",(function(){return H})),t.d(n,"e",(function(){return G})),t.d(n,"f",(function(){return Q})),t.d(n,"o",(function(){return K})),t.d(n,"a",(function(){return W})),t.d(n,"l",(function(){return V})),t.d(n,"S",(function(){return X})),t.d(n,"K",(function(){return Z})),t.d(n,"g",(function(){return ee})),t.d(n,"R",(function(){return ne})),t.d(n,"r",(function(){return te})),t.d(n,"J",(function(){return ce}));t("88a7"),t("271a"),t("5494");var c=t("bc3a"),o=t.n(c),r=t("a18c"),a=t("ed08"),i=t("4360");const u=o.a.create({timeout:1e5,withCredentials:!0});function s(){r["a"].replace("/login")}u.interceptors.request.use(e=>(e.url=Object(a["f"])()+e.url,e.headers={authorization:sessionStorage.getItem("authorization")},e.params=e.params||{},e.params.random=Math.random(),e),e=>Promise.reject(e)),u.interceptors.response.use(e=>{const{data:n,status:t}=e||{};if(401===t)return s();{const t=Object(i["b"])();if(t.setPower(e.headers["x-user-permissions"]),n instanceof Blob)return e;if("string"===typeof n)return n;const{returnCode:c,returnMsg:o}=n||{};if(100!==c)return 0===c?n:Promise.reject(o);s()}},e=>{const{status:n}=e.response||{};if(0!==n)return 429===n?a["b"].error("服务繁忙，请稍后重试"):401===n?s():Promise.reject(e);Object(a["h"])()});const d=(e,n,t)=>new Promise((c,o)=>{u({method:"post",url:e,responseType:"blob",data:n}).then(e=>{if(e.headers["content-type"].includes("application/json")){const n=new FileReader;n.onload=function(){const{returnCode:e,returnMsg:n}=JSON.parse(this.result||"{}");0!==e&&a["b"].error(n||"未知错误"),c()},n.readAsText(e.data)}else{const n=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),o=window.URL.createObjectURL(n),r=document.createElement("a");r.href=o,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),c()}}).catch(e=>{o(e)})}),h=e=>o.a.get("https://lianjing.cloudns.biz/getServiceUrl",e),f=e=>o.a.get(e+"/cpolar/check"),l=e=>o.a.get("https://www.mxnzp.com/api/barcode/goods/details?app_id=ruknhpkxkohxbqqp&app_secret=CsM8diOeQypRd3JcfBEBn1ge5Rk9CdqT&barcode="+e),b=e=>u.post("/login",e),p=e=>u.post("/register",e),m=e=>u.post("/changePassword",e),k=e=>u.post("/resetPassword",e),g=e=>u.post("/goods/saveGood",e),w=e=>u.post("/goods/verifyGood",e),y=e=>u.post("/goods/getGoodsByPage",e),v=e=>u.post("/goods/deleteGood",e),O=(e,n)=>d("/goods/exportGoods",e,n),j=()=>Object(a["f"])()+"/goods/importGoods",M=e=>u.post("/users/saveUser",e),P=e=>u.post("/users/verifyUser",e),C=e=>u.post("/users/getUsersByPage",e),S=e=>u.post("/users/getAllUsers",e),D=e=>u.post("/users/deleteUser",e),A=(e,n)=>d("/users/exportUsers",e,n),I=()=>Object(a["f"])()+"/users/importUsers",U=e=>u.post("/users/auditUser",e),x=e=>u.post("/users/getAuditCount",e),E=e=>u.post("/users/subscribe",e),$=e=>u.post("/order/printPdf",e),N=e=>u.post("/order/saveOrder",e),B=e=>u.post("/order/getOrdersByPage",e),R=e=>u.post("/order/deleteOrder",e),F=e=>u.post("/order/getDraftCount",e),L=e=>u.post("/userPrice/getPricesByUser",e),Y=e=>u.post("/userPrice/savePrice",e),q=e=>u.post("/userPrice/getPricesByPage",e),T=e=>u.post("/userPrice/deletePrice",e),J=e=>u.post("/statistics/getSalesTop",e),_=e=>u.post("/statistics/getSalesTrend",e),z=e=>u.post("/statistics/getSalesSeason",e),H=e=>u.post("/database/updateTableStruct",e),G=(e,n)=>d("/database/backups",e,n),Q=()=>Object(a["f"])()+"/database/recover",K=e=>u.post("/dictionaries/getAll",e),W=e=>u.post("/dictionaries/add",e),V=e=>u.post("/dictionaries/editItem",e),X=e=>u.post("/dictionaries/verifyDict",e),Z=e=>u.post("/dictionaries/saveSort",e),ee=e=>u.post("/dictionaries/deleteItem",e),ne=e=>u.post("/upload/singleImage",e),te=e=>u.post("/configs/getConfigsByPage",e),ce=e=>u.post("/configs/saveConfig",e)}});