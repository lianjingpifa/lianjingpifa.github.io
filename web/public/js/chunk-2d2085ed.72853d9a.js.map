{"version":3,"sources":["webpack:///./src/components/viBarcodeInput/index.vue","webpack:///./src/components/viBarcodeInput/index.vue?aca2"],"names":["_createBlock","_component_viInput","ref","$options","barcode","$event","placeholder","$data","isMobile","onOnEnter","enter","name","props","modelValue","type","String","default","disabled","Boolean","data","window","computed","get","this","set","val","$emit","methods","focus","$refs","scan","handleScan","document","activeElement","tagName","isFocus","$Message","success","$nextTick","created","$EventBus","$on","beforeUnmount","$off","__exports__","render"],"mappings":"gPAOEA,yBAKWC,EAAA,CAJTC,IAAI,O,WACKC,EAAAC,Q,qCAAAD,EAAAC,QAAOC,GACfC,YAAaC,EAAAC,SAAW,MAAQ,cAChCC,UAAUN,EAAAO,O,iDAKA,OACbC,KAAM,iBACNC,MAAO,CACLC,WAAY,CACVC,KAAMC,OACNC,QAAS,IAEXC,SAAU,CACRH,KAAMI,QACNF,SAAS,IAGbG,OACE,MAAO,CACLX,SAAUY,OAAOZ,WAGrBa,SAAU,CACRjB,QAAS,CACPkB,MACE,OAAOC,KAAKV,YAEdW,IAAIC,GACFF,KAAKG,MAAM,oBAAqBD,MAItCE,QAAS,CACPC,QACEL,KAAKM,MAAMC,KAAKF,SAElBlB,QACEa,KAAKG,MAAM,WAAYH,KAAKnB,UAE9B2B,YAAW,QAAE3B,IACPmB,KAAKN,WAC8B,UAAnCe,SAASC,cAAcC,SACzBX,KAAKK,QAEHL,KAAKM,MAAMC,KAAKK,YAClBZ,KAAKa,SAASC,QAAS,WAAUjC,GACjCmB,KAAKnB,QAAUA,EACfmB,KAAKe,UAAU,KACbf,KAAKb,cAKb6B,UACEhB,KAAKiB,UAAUC,IAAI,UAAWlB,KAAKQ,aAErCW,gBACEnB,KAAKiB,UAAUG,KAAK,UAAWpB,KAAKQ,c,qBC/DxC,MAAMa,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"public/js/chunk-2d2085ed.72853d9a.js","sourcesContent":["<!--\r\n * @Author: zzx\r\n * @Date: 2023-09-16 12:09:06\r\n * @LastEditors: zzx\r\n * @LastEditTime: 2023-11-30 22:57:03\r\n-->\r\n<template>\r\n  <viInput\r\n    ref=\"scan\"\r\n    v-model=\"barcode\"\r\n    :placeholder=\"isMobile ? '请输入' : '聚焦扫码录入或手动输入'\"\r\n    @on-enter=\"enter\"\r\n  ></viInput>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"viBarcodeInput\",\r\n  props: {\r\n    modelValue: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isMobile: window.isMobile,\r\n    };\r\n  },\r\n  computed: {\r\n    barcode: {\r\n      get() {\r\n        return this.modelValue;\r\n      },\r\n      set(val) {\r\n        this.$emit(\"update:modelValue\", val);\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    focus() {\r\n      this.$refs.scan.focus();\r\n    },\r\n    enter() {\r\n      this.$emit(\"on-enter\", this.barcode);\r\n    },\r\n    handleScan({ barcode }) {\r\n      if (this.disabled) return;\r\n      if (document.activeElement.tagName !== \"INPUT\") {\r\n        this.focus();\r\n      }\r\n      if (this.$refs.scan.isFocus()) {\r\n        this.$Message.success(`识别到扫码：\\n${barcode}`);\r\n        this.barcode = barcode;\r\n        this.$nextTick(() => {\r\n          this.enter();\r\n        });\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.$EventBus.$on(\"barcode\", this.handleScan);\r\n  },\r\n  beforeUnmount() {\r\n    this.$EventBus.$off(\"barcode\", this.handleScan);\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=200af1bd\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\goodCashier\\\\web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}