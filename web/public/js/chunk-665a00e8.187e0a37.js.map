{"version":3,"sources":["webpack:///./src/viewsMobile/mobileSpecial/index.vue","webpack:///./src/viewsMobile/mobileSpecial/index.vue?aa96","webpack:///./src/viewsMobile/mobileSpecial/index.vue?dca6","webpack:///./node_modules/vant/es/swipe-cell/SwipeCell.mjs","webpack:///./node_modules/vant/es/swipe-cell/index.mjs"],"names":["class","_createElementVNode","_createElementBlock","$data","curGoodId","curUserId","_createBlock","_component_van_cell","title","value","curName","right-icon","_withCtx","_createVNode","_component_Icon","type","size","onClick","$options","deleteId","_component_van_search","keyword","$event","shape","placeholder","onClear","reSearch","onSearch","_component_viListScroll","ref","getData","onOnUpdate","updateData","default","item","_component_van_swipe_cell","right","_component_Button","deletePrice","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","userName","_hoisted_4","_hoisted_5","goodName","_hoisted_6","_hoisted_7","_component_viInputNumber","specialPrice","min","step","oldPrice","_Fragment","key","color","changeData","name","components","SwipeCell","viListScroll","data","watch","$route","deep","immediate","handler","params","history","state","Object","keys","length","this","goodId","userId","computed","push","join","methods","_this$$refs$list","$refs","list","param","getPricesByPage","rows","forEach","returnCode","savePrice","$Message","success","err","error","message","$Modal","confirm","content","onOk","async","__exports__","render","bem","create","swipeCellProps","disabled","Boolean","leftWidth","rightWidth","beforeClose","Function","stopPropagation","stdin_default","props","emits","emit","slots","opened","lockClick","startOffset","isInBeforeClosing","root","leftRef","rightRef","offset","dragging","touch","getWidthByRef","ref2","width","open","side","position","close","toggle","Math","abs","THRESHOLD","threshold","onTouchStart","event","start","onTouchMove","deltaX","move","isHorizontal","isEdge","onTouchEnd","setTimeout","args","done","canceled","getClickHandler","stop","renderSideContent","contentSlot","eventName","target","_a","wrapperStyle","transform","transitionDuration","call"],"mappings":"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","file":"public/js/chunk-665a00e8.187e0a37.js","sourcesContent":["<!--\r\n * @Author: zzx\r\n * @Date: 2023-11-11 15:07:00\r\n * @LastEditors: zzx\r\n * @LastEditTime: 2023-12-18 20:51:28\r\n-->\r\n<template>\r\n  <div>\r\n    <van-cell\r\n      v-if=\"curGoodId || curUserId\"\r\n      :title=\"curGoodId ? '商品名称' : '客户名称'\"\r\n      :value=\"curName\"\r\n      class=\"flex-none\"\r\n    >\r\n      <template #right-icon>\r\n        <Icon type=\"md-close\" size=\"25\" @click=\"deleteId\" class=\"vi-link-text ml-10\" />\r\n      </template>\r\n    </van-cell>\r\n    <van-search\r\n      v-model=\"keyword\"\r\n      shape=\"round\"\r\n      :placeholder=\"placeholder\"\r\n      @clear=\"reSearch\"\r\n      @search=\"reSearch\"\r\n      class=\"search-input\"\r\n    />\r\n    <viListScroll ref=\"list\" :getData=\"getData\" @on-update=\"updateData\" class=\"container\">\r\n      <template #default=\"{ item }\">\r\n        <van-swipe-cell>\r\n          <div class=\"card\">\r\n            <p class=\"label-item\">\r\n              <label>客户名称：</label>\r\n              <span>{{ item.userName }}</span>\r\n            </p>\r\n            <p class=\"label-item\">\r\n              <label>商品名称：</label>\r\n              <span>{{ item.goodName }}</span>\r\n            </p>\r\n            <div class=\"card-bottom\">\r\n              <span class=\"f-16\">特<span class=\"mr-30\"></span>价：￥</span>\r\n              <viInputNumber v-model=\"item.specialPrice\" :min=\"0\" :step=\"0.5\" class=\"short-input\"></viInputNumber>\r\n              <template v-if=\"item.specialPrice !== item.oldPrice\">\r\n                <Icon\r\n                  type=\"ios-close-circle-outline\"\r\n                  color=\"red\"\r\n                  size=\"30\"\r\n                  @click=\"item.specialPrice = item.oldPrice\"\r\n                  class=\"ml-10\"\r\n                />\r\n                <Icon\r\n                  type=\"ios-checkmark-circle-outline\"\r\n                  color=\"green\"\r\n                  size=\"30\"\r\n                  @click=\"changeData([item])\"\r\n                  class=\"ml-10\"\r\n                />\r\n              </template>\r\n            </div>\r\n          </div>\r\n          <template #right>\r\n            <Button type=\"error\" @click=\"deletePrice(item)\">删除</Button>\r\n          </template>\r\n        </van-swipe-cell>\r\n      </template>\r\n    </viListScroll>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { SwipeCell } from \"vant\";\r\nimport { getPricesByPage, deletePrice, savePrice } from \"@/axios\";\r\nimport { viListScroll } from \"@/components\";\r\n\r\nexport default {\r\n  name: \"mobileSpecial\",\r\n  components: { [SwipeCell.name]: SwipeCell, viListScroll },\r\n  data() {\r\n    return {\r\n      keyword: \"\",\r\n      curGoodId: \"\",\r\n      curUserId: \"\",\r\n      curName: \"\",\r\n    };\r\n  },\r\n  watch: {\r\n    $route: {\r\n      deep: true,\r\n      immediate: true,\r\n      handler({ name }) {\r\n        if (name !== \"mobileSpecial\") return;\r\n        const { params = {} } = history.state;\r\n        if (!Object.keys(params).length) return;\r\n        this.curGoodId = params.goodId;\r\n        this.curUserId = params.userId;\r\n        this.curName = params.name;\r\n        this.keyword = \"\";\r\n        this.reSearch();\r\n        // 清空历史，防止残留\r\n        history.state.params = {};\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    placeholder() {\r\n      const placeholder = [];\r\n      if (!this.curGoodId) {\r\n        placeholder.push(\"商品名称\");\r\n      }\r\n      if (!this.curUserId) {\r\n        placeholder.push(\"客户名称\");\r\n      }\r\n      return `请输入${placeholder.join(\"/\")}搜索`;\r\n    },\r\n  },\r\n  methods: {\r\n    deleteId() {\r\n      this.curGoodId = \"\";\r\n      this.curUserId = \"\";\r\n      this.curName = \"\";\r\n      this.reSearch();\r\n    },\r\n    reSearch() {\r\n      this.$refs.list?.reSearch();\r\n    },\r\n    getData(param) {\r\n      if (this.curGoodId) {\r\n        param.goodId = this.curGoodId;\r\n        param.userName = this.keyword;\r\n      } else if (this.curUserId) {\r\n        param.userId = this.curUserId;\r\n        param.goodName = this.keyword;\r\n      } else {\r\n        param.keyword = this.keyword;\r\n      }\r\n      return getPricesByPage(param);\r\n    },\r\n    updateData({ rows }) {\r\n      rows.forEach((item) => {\r\n        item.oldPrice = item.specialPrice;\r\n      });\r\n    },\r\n    async changeData(list) {\r\n      try {\r\n        const { returnCode, data } = await savePrice({ list }) || {};\r\n        if (returnCode === 0 && data) {\r\n          this.$Message.success(\"保存成功\");\r\n          list.forEach((item) => {\r\n            item.oldPrice = item.specialPrice;\r\n          });\r\n        }\r\n      } catch (err) {\r\n        this.$Message.error(`保存失败：${err.message || err}`);\r\n      }\r\n    },\r\n    deletePrice({ userId, goodId }) {\r\n      this.$Modal.confirm({\r\n        title: \"删除特价\",\r\n        content: \"是否确认删除该记录？\",\r\n        onOk: async () => {\r\n          try {\r\n            const { returnCode, data } = await deletePrice({\r\n              list: [{ userId, goodId }],\r\n            }) || {};\r\n            if (returnCode === 0 && data) {\r\n              this.$Message.success(\"删除成功\");\r\n              this.reSearch();\r\n            }\r\n          } catch (err) {\r\n            this.$Message.error(`删除失败：${err.message || err}`);\r\n          }\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.search-input {\r\n  border-radius: 0 0 4px 4px;\r\n}\r\n.container {\r\n  height: calc(100% - 54px);\r\n}\r\n.card {\r\n  padding: 10px;\r\n  background: #FFFFFF;\r\n  border-radius: 4px;\r\n  .label-item {\r\n    font-size: 16px;\r\n    display: flex;\r\n    line-height: 20px;\r\n    margin-bottom: 4px;\r\n    label {\r\n      flex: none;\r\n    }\r\n    span {\r\n      flex: 1;\r\n    }\r\n  }\r\n  &-bottom {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .short-input {\r\n    width: 120px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=217189ae&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=217189ae&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\goodCashier\\\\web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-217189ae\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=217189ae&lang=less&scoped=true\"","import { createVNode as _createVNode } from \"vue\";\nimport { ref, reactive, computed, defineComponent } from \"vue\";\nimport { clamp, isDef, numericProp, preventDefault, callInterceptor, createNamespace, makeNumericProp } from \"../utils/index.mjs\";\nimport { useRect, useClickAway, useEventListener } from \"@vant/use\";\nimport { useTouch } from \"../composables/use-touch.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nconst [name, bem] = createNamespace(\"swipe-cell\");\nconst swipeCellProps = {\n  name: makeNumericProp(\"\"),\n  disabled: Boolean,\n  leftWidth: numericProp,\n  rightWidth: numericProp,\n  beforeClose: Function,\n  stopPropagation: Boolean\n};\nvar stdin_default = defineComponent({\n  name,\n  props: swipeCellProps,\n  emits: [\"open\", \"close\", \"click\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    let opened;\n    let lockClick;\n    let startOffset;\n    let isInBeforeClosing;\n    const root = ref();\n    const leftRef = ref();\n    const rightRef = ref();\n    const state = reactive({\n      offset: 0,\n      dragging: false\n    });\n    const touch = useTouch();\n    const getWidthByRef = (ref2) => ref2.value ? useRect(ref2).width : 0;\n    const leftWidth = computed(() => isDef(props.leftWidth) ? +props.leftWidth : getWidthByRef(leftRef));\n    const rightWidth = computed(() => isDef(props.rightWidth) ? +props.rightWidth : getWidthByRef(rightRef));\n    const open = (side) => {\n      state.offset = side === \"left\" ? leftWidth.value : -rightWidth.value;\n      if (!opened) {\n        opened = true;\n        emit(\"open\", {\n          name: props.name,\n          position: side\n        });\n      }\n    };\n    const close = (position) => {\n      state.offset = 0;\n      if (opened) {\n        opened = false;\n        emit(\"close\", {\n          name: props.name,\n          position\n        });\n      }\n    };\n    const toggle = (side) => {\n      const offset = Math.abs(state.offset);\n      const THRESHOLD = 0.15;\n      const threshold = opened ? 1 - THRESHOLD : THRESHOLD;\n      const width = side === \"left\" ? leftWidth.value : rightWidth.value;\n      if (width && offset > width * threshold) {\n        open(side);\n      } else {\n        close(side);\n      }\n    };\n    const onTouchStart = (event) => {\n      if (!props.disabled) {\n        startOffset = state.offset;\n        touch.start(event);\n      }\n    };\n    const onTouchMove = (event) => {\n      if (props.disabled) {\n        return;\n      }\n      const {\n        deltaX\n      } = touch;\n      touch.move(event);\n      if (touch.isHorizontal()) {\n        lockClick = true;\n        state.dragging = true;\n        const isEdge = !opened || deltaX.value * startOffset < 0;\n        if (isEdge) {\n          preventDefault(event, props.stopPropagation);\n        }\n        state.offset = clamp(deltaX.value + startOffset, -rightWidth.value, leftWidth.value);\n      }\n    };\n    const onTouchEnd = () => {\n      if (state.dragging) {\n        state.dragging = false;\n        toggle(state.offset > 0 ? \"left\" : \"right\");\n        setTimeout(() => {\n          lockClick = false;\n        }, 0);\n      }\n    };\n    const onClick = (position = \"outside\") => {\n      if (isInBeforeClosing)\n        return;\n      emit(\"click\", position);\n      if (opened && !lockClick) {\n        isInBeforeClosing = true;\n        callInterceptor(props.beforeClose, {\n          args: [{\n            name: props.name,\n            position\n          }],\n          done: () => {\n            isInBeforeClosing = false;\n            close(position);\n          },\n          canceled: () => isInBeforeClosing = false,\n          error: () => isInBeforeClosing = false\n        });\n      }\n    };\n    const getClickHandler = (position, stop) => (event) => {\n      if (stop) {\n        event.stopPropagation();\n      }\n      onClick(position);\n    };\n    const renderSideContent = (side, ref2) => {\n      const contentSlot = slots[side];\n      if (contentSlot) {\n        return _createVNode(\"div\", {\n          \"ref\": ref2,\n          \"class\": bem(side),\n          \"onClick\": getClickHandler(side, true)\n        }, [contentSlot()]);\n      }\n    };\n    useExpose({\n      open,\n      close\n    });\n    useClickAway(root, () => onClick(\"outside\"), {\n      eventName: \"touchstart\"\n    });\n    useEventListener(\"touchmove\", onTouchMove, {\n      target: root\n    });\n    return () => {\n      var _a;\n      const wrapperStyle = {\n        transform: `translate3d(${state.offset}px, 0, 0)`,\n        transitionDuration: state.dragging ? \"0s\" : \".6s\"\n      };\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"class\": bem(),\n        \"onClick\": getClickHandler(\"cell\", lockClick),\n        \"onTouchstartPassive\": onTouchStart,\n        \"onTouchend\": onTouchEnd,\n        \"onTouchcancel\": onTouchEnd\n      }, [_createVNode(\"div\", {\n        \"class\": bem(\"wrapper\"),\n        \"style\": wrapperStyle\n      }, [renderSideContent(\"left\", leftRef), (_a = slots.default) == null ? void 0 : _a.call(slots), renderSideContent(\"right\", rightRef)])]);\n    };\n  }\n});\nexport {\n  stdin_default as default,\n  swipeCellProps\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _SwipeCell from \"./SwipeCell.mjs\";\nconst SwipeCell = withInstall(_SwipeCell);\nvar stdin_default = SwipeCell;\nimport { swipeCellProps } from \"./SwipeCell.mjs\";\nexport {\n  SwipeCell,\n  stdin_default as default,\n  swipeCellProps\n};\n"],"sourceRoot":""}