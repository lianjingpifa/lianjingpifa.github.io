(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64d2e142"],{"7abe":function(e,t,n){"use strict";n.r(t);var i=n("7a23");const a={class:"home"},c={class:"home-nav"},s={class:"title"},o={class:"home-content"},l={class:"home-container"};function m(e,t,n,m,r,u){const d=Object(i["resolveComponent"])("Icon"),h=Object(i["resolveComponent"])("Badge"),b=Object(i["resolveComponent"])("MenuItem"),p=Object(i["resolveComponent"])("Menu"),O=Object(i["resolveComponent"])("router-view");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",a,[Object(i["createElementVNode"])("div",c,[Object(i["createElementVNode"])("p",s,Object(i["toDisplayString"])(r.APPNAME),1),Object(i["createVNode"])(d,{type:"md-exit",size:"20",title:"退出登陆",onClick:u.logout,class:"pointer"},null,8,["onClick"])]),Object(i["createElementVNode"])("div",o,[Object(i["createVNode"])(p,{"active-name":r.activeMenu,class:"home-menu"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(r.routeList,(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(b,{key:t,name:e.name,to:"/"+e.name},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(d,{type:e.icon,size:"20"},null,8,["type"]),Object(i["createVNode"])(h,{count:r.badge[e.name]||0,"overflow-count":"99",class:"menu-badge"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.title),1)]),_:2},1032,["count"])]),_:2},1032,["name","to"]))),128))]),_:1},8,["active-name"]),Object(i["createElementVNode"])("div",l,[Object(i["createVNode"])(O,null,{default:Object(i["withCtx"])(({Component:e})=>[(Object(i["openBlock"])(),Object(i["createBlock"])(i["KeepAlive"],null,[(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(e)))],1024))]),_:1})])])])}const r=["href","target"];function u(e,t,n,a,c,s){return e.to?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,href:e.linkUrl,target:e.target,class:Object(i["normalizeClass"])(s.classes),onClick:[t[0]||(t[0]=Object(i["withModifiers"])(e=>s.handleClickItem(e,!1),["exact"])),t[1]||(t[1]=Object(i["withModifiers"])(e=>s.handleClickItem(e,!0),["ctrl"])),t[2]||(t[2]=Object(i["withModifiers"])(e=>s.handleClickItem(e,!0),["meta"]))],style:Object(i["normalizeStyle"])(s.itemStyle)},[Object(i["renderSlot"])(e.$slots,"default")],14,r)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:1,class:Object(i["normalizeClass"])(s.classes),onClick:t[3]||(t[3]=Object(i["withModifiers"])((...e)=>s.handleClickItem&&s.handleClickItem(...e),["stop"])),style:Object(i["normalizeStyle"])(s.itemStyle)},[Object(i["renderSlot"])(e.$slots,"default")],6))}n("14d9");var d=n("694c"),h=n("d19d"),b={inject:{MenuInstance:{default:null},SubmenuInstance:{default:null}},data(){return{menu:this.MenuInstance}},computed:{hasParentSubmenu(){return!!this.SubmenuInstance},parentSubmenuNum(){return Object(d["d"])(this,"Submenu").length},mode(){return this.MenuInstance.mode}}},p=n("59af");const O="ivu-menu";var v={name:"MenuItem",mixins:[b,p["a"]],props:{name:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},data(){return{active:!1,id:Object(h["a"])(6)}},computed:{classes(){return[O+"-item",{[O+"-item-active"]:this.active,[O+"-item-selected"]:this.active,[O+"-item-disabled"]:this.disabled}]},itemStyle(){return this.hasParentSubmenu&&"horizontal"!==this.mode?{paddingLeft:43+24*(this.parentSubmenuNum-1)+"px"}:{}}},methods:{handleClickItem(e,t=!1){if(!this.disabled)if(t||"_blank"===this.target){this.handleCheckClick(e,t);let n=Object(d["c"])(this,"Menu");n&&n.handleEmitSelectEvent(this.name)}else{let n=Object(d["c"])(this,"Submenu");n?this.SubmenuInstance.handleMenuItemSelect(this.name):this.MenuInstance.handleMenuItemSelect(this.name),this.handleCheckClick(e,t)}},handleUpdateActiveName(e){this.name===e?(this.active=!0,this.SubmenuInstance&&this.SubmenuInstance.handleUpdateActiveName(e)):this.active=!1},addMenuItem(){const e=this.MenuInstance;e.menuItemList||(e.menuItemList=[]),e.menuItemList.push({id:this.id,menuitem:this})},removeMenuItem(){const e=this.MenuInstance;if(e.menuItemList&&e.menuItemList.length){const t=e.menuItemList.findIndex(e=>e.id===this.id);e.menuItemList.splice(t,1)}}},mounted(){this.addMenuItem()},beforeUnmount(){this.removeMenuItem()}},j=n("6b0d"),f=n.n(j);const g=f()(v,[["render",u]]);var k=g,N=k;function I(e,t,n,a,c,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",{class:Object(i["normalizeClass"])(s.classes),style:Object(i["normalizeStyle"])(s.styles)},[Object(i["renderSlot"])(e.$slots,"default")],6)}const M="ivu-menu";var y={name:"Menu",emits:["on-select","on-open-change"],provide(){return{MenuInstance:this}},props:{mode:{validator(e){return Object(d["h"])(e,["horizontal","vertical"])},default:"vertical"},theme:{validator(e){return Object(d["h"])(e,["light","dark","primary"])},default:"light"},activeName:{type:[String,Number]},openNames:{type:Array,default(){return[]}},accordion:{type:Boolean,default:!1},width:{type:String,default:"240px"}},data(){return{currentActiveName:this.activeName,openedNames:[],submenuList:[],menuItemList:[],ready:!1}},computed:{classes(){let e=this.theme;return"vertical"===this.mode&&"primary"===this.theme&&(e="light"),[""+M,`${M}-${e}`,{[`${M}-${this.mode}`]:this.mode}]},styles(){let e={};return"vertical"===this.mode&&(e.width=this.width),e}},methods:{updateActiveName(){void 0===this.currentActiveName&&(this.currentActiveName=-1),this.submenuList.map(e=>e.submenu).forEach(e=>{e.handleUpdateActiveName(!1)}),this.menuItemList.map(e=>e.menuitem).forEach(e=>{e.handleUpdateActiveName(this.currentActiveName)})},updateOpenKeys(e){let t=[...this.openedNames];const n=t.indexOf(e),i=this.submenuList.map(e=>e.submenu);if(this.accordion&&i.forEach(e=>{e.opened=!1}),n>=0){let t=null;i.forEach(n=>{n.name===e&&(t=n,n.opened=!1)}),Object(d["d"])(t,"Submenu").forEach(e=>{e.opened=!0}),t.childSubmenuList.map(e=>e.submenu).forEach(e=>{e.opened=!1})}else if(this.accordion){let t=null;i.forEach(n=>{n.name===e&&(t=n,n.opened=!0)}),Object(d["d"])(t,"Submenu").forEach(e=>{e.opened=!0})}else{const t=this.submenuList.map(e=>e.submenu);t.forEach(t=>{t.name===e&&(t.opened=!0)})}let a=i.filter(e=>e.opened).map(e=>e.name);this.openedNames=[...a],this.$emit("on-open-change",a)},updateOpened(){const e=(this.submenuList||[]).map(e=>e.submenu);e.length&&e.forEach(e=>{this.openedNames.indexOf(e.name)>-1?e.opened=!0:e.opened=!1})},handleEmitSelectEvent(e){this.$emit("on-select",e)},handleMenuItemSelect(e){this.currentActiveName=e,this.$emit("on-select",e)}},mounted(){this.openedNames=[...this.openNames],this.updateOpened(),Object(i["nextTick"])(()=>{this.updateActiveName(),this.ready=!0})},watch:{openNames(e){this.openedNames=e},activeName(e){this.currentActiveName=e},currentActiveName(){this.updateActiveName()}}};const S=f()(y,[["render",I]]);var C=S,w=C,E=n("eeb9"),A=n("ed08"),B={name:"home",components:{Menu:w,MenuItem:N},data(){return{APPNAME:window.APPNAME,activeMenu:this.$route.name,routeList:[{title:"出库管理",name:"cashierMng",icon:"ios-cart"},{title:"商品管理",name:"goodMng",icon:"ios-filing"},{title:"订单管理",name:"orderMng",icon:"ios-clipboard"},{title:"客户管理",name:"userMng",icon:"ios-people"},{title:"特价管理",name:"specialMng",icon:"ios-pricetag"},{title:"统计分析",name:"statistiAnalysis",icon:"ios-stats"},{title:"字典管理",name:"dictMng",icon:"ios-bookmark"}],badge:{}}},watch:{$route:{deep:!0,immediate:!0,handler({name:e}){this.activeMenu=e}}},methods:{logout(){sessionStorage.clear(),this.$router.replace("/login?from=logout"),window.socket&&window.socket.close(),window.socket=null},async getDraftCount(){try{const{returnCode:e,data:t}=await Object(E["o"])()||{};0===e&&(this.badge.orderMng=t||0)}catch(e){this.$Message.error("获取草稿数量失败："+(e.message||e))}}},mounted(){Object(A["d"])(),this.getDraftCount(),this.$EventBus.$on("saveOrder",this.getDraftCount)},beforeUnmount(){this.$EventBus.$off("saveOrder",this.getDraftCount)}};n("c974");const L=f()(B,[["render",m],["__scopeId","data-v-006f0018"]]);t["default"]=L},a3bf:function(e,t,n){},c974:function(e,t,n){"use strict";n("a3bf")}}]);