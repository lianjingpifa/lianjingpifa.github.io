{"version":3,"sources":["webpack:///./src/components/viListScroll/index.vue","webpack:///./node_modules/vant/es/pull-refresh/PullRefresh.mjs","webpack:///./node_modules/vant/es/pull-refresh/index.mjs","webpack:///./node_modules/vant/es/skeleton-title/SkeletonTitle.mjs","webpack:///./node_modules/vant/es/skeleton-title/index.mjs","webpack:///./node_modules/vant/es/skeleton-avatar/SkeletonAvatar.mjs","webpack:///./node_modules/vant/es/skeleton-avatar/index.mjs","webpack:///./node_modules/vant/es/skeleton-paragraph/SkeletonParagraph.mjs","webpack:///./node_modules/vant/es/skeleton-paragraph/index.mjs","webpack:///./node_modules/vant/es/skeleton/Skeleton.mjs","webpack:///./node_modules/vant/es/skeleton/index.mjs","webpack:///./node_modules/vant/es/list/List.mjs","webpack:///./node_modules/vant/es/list/index.mjs","webpack:///./src/components/viListScroll/index.vue?78be","webpack:///./src/components/viListScroll/index.vue?04ac","webpack:///./node_modules/vant/es/composables/use-tab-status.mjs"],"names":["class","_createElementBlock","_createVNode","_component_van_pull_refresh","$data","dropLoading","$event","disabled","refreshDisabled","onRefresh","$options","refresh","pageLoading","_hoisted_1","_component_van_skeleton","title","row","dataList","length","_createBlock","_component_van_list","ref","loading","finished","finished-text","error","error-text","onLoad","search","onScroll","divScroll","_Fragment","_renderList","item","index","_renderSlot","_ctx","$slots","_normalizeProps","_guardReactiveProps","undefined","_component_viEmpty","key","bem","t","create","DEFAULT_HEAD_HEIGHT","TEXT_STATUS","pullRefreshProps","Boolean","modelValue","headHeight","successText","String","pullingText","loosingText","loadingText","pullDistance","successDuration","animationDuration","stdin_default","name","props","emits","emit","slots","reachTop","root","track","scrollParent","state","status","distance","duration","touch","getHeadStyle","height","isTouchable","ease","Math","round","setStatus","isLoading","getStatusText","renderStatus","nodes","includes","push","default","showSuccessTip","setTimeout","checkPosition","event","value","start","onTouchStart","onTouchMove","deltaY","move","isVertical","onTouchEnd","success","target","_a","trackStyle","transitionDuration","transform","call","PullRefresh","skeletonTitleProps","titleWidth","width","SkeletonTitle","skeletonAvatarProps","avatarSize","avatarShape","SkeletonAvatar","DEFAULT_ROW_WIDTH","skeletonParagraphProps","rowWidth","type","SkeletonParagraph","DEFAULT_LAST_ROW_WIDTH","skeletonProps","avatar","animate","Number","Array","inheritAttrs","attrs","renderAvatar","renderTitle","getRowWidth","isArray","renderRows","fill","map","_","i","renderContents","template","Skeleton","listProps","offset","scroller","Object","errorText","direction","finishedText","immediateCheck","placeholder","tabStatus","check","scrollParentRect","isReachEdge","placeholderRect","top","bottom","renderFinishedText","text","clickErrorText","renderErrorText","renderLoading","tabActive","passive","Content","Placeholder","List","components","getData","Function","isInitLoad","data","curPage","methods","this","reSearch","rows","count","returnCode","pageSize","$emit","total","$nextTick","err","$Message","message","e","scrollTop","mounted","__exports__","render","TAB_STATUS_KEY","Symbol","useTabStatus"],"mappings":"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","file":"public/js/chunk-6aaa1b1b.9e11f2b6.js","sourcesContent":["<template>\r\n  <div>\r\n    <van-pull-refresh v-model=\"dropLoading\" :disabled=\"refreshDisabled\" @refresh=\"refresh\" class=\"viListScroll\">\r\n      <div v-if=\"pageLoading\" class=\"list\">\r\n        <van-skeleton title :row=\"3\" />\r\n        <van-skeleton title :row=\"3\" />\r\n        <van-skeleton title :row=\"3\" />\r\n      </div>\r\n      <viEmpty v-if=\"!dataList.length && !pageLoading\"></viEmpty>\r\n      <van-list\r\n        ref=\"list\"\r\n        v-else-if=\"dataList.length\"\r\n        v-model:loading=\"loading\"\r\n        :finished=\"finished\"\r\n        :finished-text=\"dataList.length ? '没有更多了' : ''\"\r\n        v-model:error=\"error\"\r\n        error-text=\"加载失败\"\r\n        @load=\"search\"\r\n        @scroll=\"divScroll\"\r\n        class=\"list\"\r\n      >\r\n        <template v-for=\"(item, index) in dataList\">\r\n          <slot v-bind=\"{ item, index }\"></slot>\r\n        </template>\r\n      </van-list>\r\n    </van-pull-refresh>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { List, PullRefresh, Skeleton } from \"vant\";\r\n\r\nexport default {\r\n  name: \"viListScroll\",\r\n  components: {\r\n    [PullRefresh.name]: PullRefresh,\r\n    [Skeleton.name]: Skeleton,\r\n    [List.name]: List,\r\n  },\r\n  props: {\r\n    getData: {\r\n      type: Function,\r\n      default() {}\r\n    },\r\n    isInitLoad: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      dropLoading: false,\r\n      refreshDisabled: false,\r\n      pageLoading: false,\r\n      loading: false,\r\n      finished: false,\r\n      error: false,\r\n      dataList: [],\r\n      curPage: 1,\r\n    };\r\n  },\r\n  methods: {\r\n    refresh() {\r\n      this.dropLoading = true;\r\n      this.reSearch();\r\n    },\r\n    reSearch() {\r\n      this.finished = false;\r\n      if (!this.dropLoading) {\r\n        this.pageLoading = true;\r\n      }\r\n      if (this.loading) return; // 防止mounted和activated请求两次导致重复\r\n      this.curPage = 1;\r\n      this.dataList = []; // 清空，重置滚动条\r\n      this.search();\r\n    },\r\n    async search() {\r\n      if (this.finished) return;\r\n      try {\r\n        this.loading = true;\r\n        const {\r\n          data: { rows, count } = {},\r\n          returnCode = 1,\r\n        } = await this.getData({\r\n          curPage: this.curPage,\r\n          pageSize: 10,\r\n        }) || {};\r\n        if (returnCode === 0) {\r\n          this.$emit(\"on-update\", { rows, total: count || 0 });\r\n          this.$nextTick(() => {\r\n            this.dataList = [...this.dataList, ...rows];\r\n            this.curPage++;\r\n            this.finished = this.dataList.length >= count;\r\n          });\r\n        }\r\n      } catch (err) {\r\n        this.error = true;\r\n        this.$Message.error(`加载失败：${err.message || err}`);\r\n      } finally {\r\n        this.dropLoading = false;\r\n        this.pageLoading = false;\r\n        this.loading = false;\r\n      }\r\n    },\r\n    divScroll(e) {\r\n      if (e.target.scrollTop == 0) {\r\n        this.refreshDisabled = false;\r\n      } else {\r\n        this.refreshDisabled = true;\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    if (this.isInitLoad) {\r\n      this.reSearch();\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.viListScroll {\r\n  height: 100%;\r\n  background: #f7f8fa;\r\n  overflow: hidden;\r\n}\r\n.list {\r\n  height: calc(100% - 20px);\r\n  margin: 10px 0;\r\n  padding: 0 10px;\r\n  overflow: auto;\r\n  position: relative;\r\n  & > :deep(div:not(.van-list__placeholder)) {\r\n    margin-top: 10px;\r\n    &:nth-child(1) {\r\n      margin-top: 0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, reactive, nextTick, defineComponent } from \"vue\";\nimport { numericProp, getScrollTop, preventDefault, createNamespace, makeNumericProp } from \"../utils/index.mjs\";\nimport { useEventListener, useScrollParent } from \"@vant/use\";\nimport { useTouch } from \"../composables/use-touch.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nconst [name, bem, t] = createNamespace(\"pull-refresh\");\nconst DEFAULT_HEAD_HEIGHT = 50;\nconst TEXT_STATUS = [\"pulling\", \"loosing\", \"success\"];\nconst pullRefreshProps = {\n  disabled: Boolean,\n  modelValue: Boolean,\n  headHeight: makeNumericProp(DEFAULT_HEAD_HEIGHT),\n  successText: String,\n  pullingText: String,\n  loosingText: String,\n  loadingText: String,\n  pullDistance: numericProp,\n  successDuration: makeNumericProp(500),\n  animationDuration: makeNumericProp(300)\n};\nvar stdin_default = defineComponent({\n  name,\n  props: pullRefreshProps,\n  emits: [\"change\", \"refresh\", \"update:modelValue\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    let reachTop;\n    const root = ref();\n    const track = ref();\n    const scrollParent = useScrollParent(root);\n    const state = reactive({\n      status: \"normal\",\n      distance: 0,\n      duration: 0\n    });\n    const touch = useTouch();\n    const getHeadStyle = () => {\n      if (props.headHeight !== DEFAULT_HEAD_HEIGHT) {\n        return {\n          height: `${props.headHeight}px`\n        };\n      }\n    };\n    const isTouchable = () => state.status !== \"loading\" && state.status !== \"success\" && !props.disabled;\n    const ease = (distance) => {\n      const pullDistance = +(props.pullDistance || props.headHeight);\n      if (distance > pullDistance) {\n        if (distance < pullDistance * 2) {\n          distance = pullDistance + (distance - pullDistance) / 2;\n        } else {\n          distance = pullDistance * 1.5 + (distance - pullDistance * 2) / 4;\n        }\n      }\n      return Math.round(distance);\n    };\n    const setStatus = (distance, isLoading) => {\n      const pullDistance = +(props.pullDistance || props.headHeight);\n      state.distance = distance;\n      if (isLoading) {\n        state.status = \"loading\";\n      } else if (distance === 0) {\n        state.status = \"normal\";\n      } else if (distance < pullDistance) {\n        state.status = \"pulling\";\n      } else {\n        state.status = \"loosing\";\n      }\n      emit(\"change\", {\n        status: state.status,\n        distance\n      });\n    };\n    const getStatusText = () => {\n      const {\n        status\n      } = state;\n      if (status === \"normal\") {\n        return \"\";\n      }\n      return props[`${status}Text`] || t(status);\n    };\n    const renderStatus = () => {\n      const {\n        status,\n        distance\n      } = state;\n      if (slots[status]) {\n        return slots[status]({\n          distance\n        });\n      }\n      const nodes = [];\n      if (TEXT_STATUS.includes(status)) {\n        nodes.push(_createVNode(\"div\", {\n          \"class\": bem(\"text\")\n        }, [getStatusText()]));\n      }\n      if (status === \"loading\") {\n        nodes.push(_createVNode(Loading, {\n          \"class\": bem(\"loading\")\n        }, {\n          default: getStatusText\n        }));\n      }\n      return nodes;\n    };\n    const showSuccessTip = () => {\n      state.status = \"success\";\n      setTimeout(() => {\n        setStatus(0);\n      }, +props.successDuration);\n    };\n    const checkPosition = (event) => {\n      reachTop = getScrollTop(scrollParent.value) === 0;\n      if (reachTop) {\n        state.duration = 0;\n        touch.start(event);\n      }\n    };\n    const onTouchStart = (event) => {\n      if (isTouchable()) {\n        checkPosition(event);\n      }\n    };\n    const onTouchMove = (event) => {\n      if (isTouchable()) {\n        if (!reachTop) {\n          checkPosition(event);\n        }\n        const {\n          deltaY\n        } = touch;\n        touch.move(event);\n        if (reachTop && deltaY.value >= 0 && touch.isVertical()) {\n          preventDefault(event);\n          setStatus(ease(deltaY.value));\n        }\n      }\n    };\n    const onTouchEnd = () => {\n      if (reachTop && touch.deltaY.value && isTouchable()) {\n        state.duration = +props.animationDuration;\n        if (state.status === \"loosing\") {\n          setStatus(+props.headHeight, true);\n          emit(\"update:modelValue\", true);\n          nextTick(() => emit(\"refresh\"));\n        } else {\n          setStatus(0);\n        }\n      }\n    };\n    watch(() => props.modelValue, (value) => {\n      state.duration = +props.animationDuration;\n      if (value) {\n        setStatus(+props.headHeight, true);\n      } else if (slots.success || props.successText) {\n        showSuccessTip();\n      } else {\n        setStatus(0, false);\n      }\n    });\n    useEventListener(\"touchmove\", onTouchMove, {\n      target: track\n    });\n    return () => {\n      var _a;\n      const trackStyle = {\n        transitionDuration: `${state.duration}ms`,\n        transform: state.distance ? `translate3d(0,${state.distance}px, 0)` : \"\"\n      };\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"class\": bem()\n      }, [_createVNode(\"div\", {\n        \"ref\": track,\n        \"class\": bem(\"track\"),\n        \"style\": trackStyle,\n        \"onTouchstartPassive\": onTouchStart,\n        \"onTouchend\": onTouchEnd,\n        \"onTouchcancel\": onTouchEnd\n      }, [_createVNode(\"div\", {\n        \"class\": bem(\"head\"),\n        \"style\": getHeadStyle()\n      }, [renderStatus()]), (_a = slots.default) == null ? void 0 : _a.call(slots)])]);\n    };\n  }\n});\nexport {\n  stdin_default as default,\n  pullRefreshProps\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _PullRefresh from \"./PullRefresh.mjs\";\nconst PullRefresh = withInstall(_PullRefresh);\nvar stdin_default = PullRefresh;\nimport { pullRefreshProps } from \"./PullRefresh.mjs\";\nexport {\n  PullRefresh,\n  stdin_default as default,\n  pullRefreshProps\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { createNamespace, numericProp, addUnit } from \"../utils/index.mjs\";\nconst [name, bem] = createNamespace(\"skeleton-title\");\nconst skeletonTitleProps = {\n  round: Boolean,\n  titleWidth: numericProp\n};\nvar stdin_default = defineComponent({\n  name,\n  props: skeletonTitleProps,\n  setup(props) {\n    return () => _createVNode(\"h3\", {\n      \"class\": bem([{\n        round: props.round\n      }]),\n      \"style\": {\n        width: addUnit(props.titleWidth)\n      }\n    }, null);\n  }\n});\nexport {\n  stdin_default as default,\n  skeletonTitleProps\n};\n","import _SkeletonTitle from \"./SkeletonTitle.mjs\";\nimport { withInstall } from \"../utils/index.mjs\";\nconst SkeletonTitle = withInstall(_SkeletonTitle);\nvar stdin_default = SkeletonTitle;\nimport { skeletonTitleProps } from \"./SkeletonTitle.mjs\";\nexport {\n  SkeletonTitle,\n  stdin_default as default,\n  skeletonTitleProps\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { numericProp, getSizeStyle, makeStringProp, createNamespace } from \"../utils/index.mjs\";\nconst [name, bem] = createNamespace(\"skeleton-avatar\");\nconst skeletonAvatarProps = {\n  avatarSize: numericProp,\n  avatarShape: makeStringProp(\"round\")\n};\nvar stdin_default = defineComponent({\n  name,\n  props: skeletonAvatarProps,\n  setup(props) {\n    return () => _createVNode(\"div\", {\n      \"class\": bem([props.avatarShape]),\n      \"style\": getSizeStyle(props.avatarSize)\n    }, null);\n  }\n});\nexport {\n  stdin_default as default,\n  skeletonAvatarProps\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _SkeletonAvatar from \"./SkeletonAvatar.mjs\";\nconst SkeletonAvatar = withInstall(_SkeletonAvatar);\nvar stdin_default = SkeletonAvatar;\nimport { skeletonAvatarProps } from \"./SkeletonAvatar.mjs\";\nexport {\n  SkeletonAvatar,\n  stdin_default as default,\n  skeletonAvatarProps\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { createNamespace, numericProp } from \"../utils/index.mjs\";\nconst DEFAULT_ROW_WIDTH = \"100%\";\nconst skeletonParagraphProps = {\n  round: Boolean,\n  rowWidth: {\n    type: numericProp,\n    default: DEFAULT_ROW_WIDTH\n  }\n};\nconst [name, bem] = createNamespace(\"skeleton-paragraph\");\nvar stdin_default = defineComponent({\n  name,\n  props: skeletonParagraphProps,\n  setup(props) {\n    return () => _createVNode(\"div\", {\n      \"class\": bem([{\n        round: props.round\n      }]),\n      \"style\": {\n        width: props.rowWidth\n      }\n    }, null);\n  }\n});\nexport {\n  DEFAULT_ROW_WIDTH,\n  stdin_default as default,\n  skeletonParagraphProps\n};\n","import _SkeletonParagraph from \"./SkeletonParagraph.mjs\";\nimport { withInstall } from \"../utils/index.mjs\";\nconst SkeletonParagraph = withInstall(_SkeletonParagraph);\nvar stdin_default = SkeletonParagraph;\nimport { skeletonParagraphProps, DEFAULT_ROW_WIDTH } from \"./SkeletonParagraph.mjs\";\nexport {\n  DEFAULT_ROW_WIDTH,\n  SkeletonParagraph,\n  stdin_default as default,\n  skeletonParagraphProps\n};\n","import { mergeProps as _mergeProps, Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { addUnit, truthProp, numericProp, makeStringProp, makeNumericProp, createNamespace } from \"../utils/index.mjs\";\nimport SkeletonTitle from \"../skeleton-title/index.mjs\";\nimport SkeletonAvatar from \"../skeleton-avatar/index.mjs\";\nimport SkeletonParagraph, { DEFAULT_ROW_WIDTH } from \"../skeleton-paragraph/index.mjs\";\nconst [name, bem] = createNamespace(\"skeleton\");\nconst DEFAULT_LAST_ROW_WIDTH = \"60%\";\nconst skeletonProps = {\n  row: makeNumericProp(0),\n  round: Boolean,\n  title: Boolean,\n  titleWidth: numericProp,\n  avatar: Boolean,\n  avatarSize: numericProp,\n  avatarShape: makeStringProp(\"round\"),\n  loading: truthProp,\n  animate: truthProp,\n  rowWidth: {\n    type: [Number, String, Array],\n    default: DEFAULT_ROW_WIDTH\n  }\n};\nvar stdin_default = defineComponent({\n  name,\n  inheritAttrs: false,\n  props: skeletonProps,\n  setup(props, {\n    slots,\n    attrs\n  }) {\n    const renderAvatar = () => {\n      if (props.avatar) {\n        return _createVNode(SkeletonAvatar, {\n          \"avatarShape\": props.avatarShape,\n          \"avatarSize\": props.avatarSize\n        }, null);\n      }\n    };\n    const renderTitle = () => {\n      if (props.title) {\n        return _createVNode(SkeletonTitle, {\n          \"round\": props.round,\n          \"titleWidth\": props.titleWidth\n        }, null);\n      }\n    };\n    const getRowWidth = (index) => {\n      const {\n        rowWidth\n      } = props;\n      if (rowWidth === DEFAULT_ROW_WIDTH && index === +props.row - 1) {\n        return DEFAULT_LAST_ROW_WIDTH;\n      }\n      if (Array.isArray(rowWidth)) {\n        return rowWidth[index];\n      }\n      return rowWidth;\n    };\n    const renderRows = () => Array(+props.row).fill(\"\").map((_, i) => _createVNode(SkeletonParagraph, {\n      \"key\": i,\n      \"round\": props.round,\n      \"rowWidth\": addUnit(getRowWidth(i))\n    }, null));\n    const renderContents = () => {\n      if (slots.template) {\n        return slots.template();\n      }\n      return _createVNode(_Fragment, null, [renderAvatar(), _createVNode(\"div\", {\n        \"class\": bem(\"content\")\n      }, [renderTitle(), renderRows()])]);\n    };\n    return () => {\n      var _a;\n      if (!props.loading) {\n        return (_a = slots.default) == null ? void 0 : _a.call(slots);\n      }\n      return _createVNode(\"div\", _mergeProps({\n        \"class\": bem({\n          animate: props.animate,\n          round: props.round\n        })\n      }, attrs), [renderContents()]);\n    };\n  }\n});\nexport {\n  stdin_default as default,\n  skeletonProps\n};\n","import _Skeleton from \"./Skeleton.mjs\";\nimport { withInstall } from \"../utils/index.mjs\";\nconst Skeleton = withInstall(_Skeleton);\nvar stdin_default = Skeleton;\nimport { skeletonProps } from \"./Skeleton.mjs\";\nexport {\n  Skeleton,\n  stdin_default as default,\n  skeletonProps\n};\n","import { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, computed, nextTick, onUpdated, onMounted, defineComponent } from \"vue\";\nimport { isHidden, truthProp, makeStringProp, makeNumericProp, createNamespace } from \"../utils/index.mjs\";\nimport { useRect, useScrollParent, useEventListener } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { useTabStatus } from \"../composables/use-tab-status.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nconst [name, bem, t] = createNamespace(\"list\");\nconst listProps = {\n  error: Boolean,\n  offset: makeNumericProp(300),\n  loading: Boolean,\n  disabled: Boolean,\n  finished: Boolean,\n  scroller: Object,\n  errorText: String,\n  direction: makeStringProp(\"down\"),\n  loadingText: String,\n  finishedText: String,\n  immediateCheck: truthProp\n};\nvar stdin_default = defineComponent({\n  name,\n  props: listProps,\n  emits: [\"load\", \"update:error\", \"update:loading\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const loading = ref(props.loading);\n    const root = ref();\n    const placeholder = ref();\n    const tabStatus = useTabStatus();\n    const scrollParent = useScrollParent(root);\n    const scroller = computed(() => props.scroller || scrollParent.value);\n    const check = () => {\n      nextTick(() => {\n        if (loading.value || props.finished || props.disabled || props.error || // skip check when inside an inactive tab\n        (tabStatus == null ? void 0 : tabStatus.value) === false) {\n          return;\n        }\n        const {\n          direction\n        } = props;\n        const offset = +props.offset;\n        const scrollParentRect = useRect(scroller);\n        if (!scrollParentRect.height || isHidden(root)) {\n          return;\n        }\n        let isReachEdge = false;\n        const placeholderRect = useRect(placeholder);\n        if (direction === \"up\") {\n          isReachEdge = scrollParentRect.top - placeholderRect.top <= offset;\n        } else {\n          isReachEdge = placeholderRect.bottom - scrollParentRect.bottom <= offset;\n        }\n        if (isReachEdge) {\n          loading.value = true;\n          emit(\"update:loading\", true);\n          emit(\"load\");\n        }\n      });\n    };\n    const renderFinishedText = () => {\n      if (props.finished) {\n        const text = slots.finished ? slots.finished() : props.finishedText;\n        if (text) {\n          return _createVNode(\"div\", {\n            \"class\": bem(\"finished-text\")\n          }, [text]);\n        }\n      }\n    };\n    const clickErrorText = () => {\n      emit(\"update:error\", false);\n      check();\n    };\n    const renderErrorText = () => {\n      if (props.error) {\n        const text = slots.error ? slots.error() : props.errorText;\n        if (text) {\n          return _createVNode(\"div\", {\n            \"role\": \"button\",\n            \"class\": bem(\"error-text\"),\n            \"tabindex\": 0,\n            \"onClick\": clickErrorText\n          }, [text]);\n        }\n      }\n    };\n    const renderLoading = () => {\n      if (loading.value && !props.finished && !props.disabled) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"loading\")\n        }, [slots.loading ? slots.loading() : _createVNode(Loading, {\n          \"class\": bem(\"loading-icon\")\n        }, {\n          default: () => [props.loadingText || t(\"loading\")]\n        })]);\n      }\n    };\n    watch(() => [props.loading, props.finished, props.error], check);\n    if (tabStatus) {\n      watch(tabStatus, (tabActive) => {\n        if (tabActive) {\n          check();\n        }\n      });\n    }\n    onUpdated(() => {\n      loading.value = props.loading;\n    });\n    onMounted(() => {\n      if (props.immediateCheck) {\n        check();\n      }\n    });\n    useExpose({\n      check\n    });\n    useEventListener(\"scroll\", check, {\n      target: scroller,\n      passive: true\n    });\n    return () => {\n      var _a;\n      const Content = (_a = slots.default) == null ? void 0 : _a.call(slots);\n      const Placeholder = _createVNode(\"div\", {\n        \"ref\": placeholder,\n        \"class\": bem(\"placeholder\")\n      }, null);\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"role\": \"feed\",\n        \"class\": bem(),\n        \"aria-busy\": loading.value\n      }, [props.direction === \"down\" ? Content : Placeholder, renderLoading(), renderFinishedText(), renderErrorText(), props.direction === \"up\" ? Content : Placeholder]);\n    };\n  }\n});\nexport {\n  stdin_default as default,\n  listProps\n};\n","import { withInstall } from \"../utils/index.mjs\";\nimport _List from \"./List.mjs\";\nconst List = withInstall(_List);\nvar stdin_default = List;\nimport { listProps } from \"./List.mjs\";\nexport {\n  List,\n  stdin_default as default,\n  listProps\n};\n","import { render } from \"./index.vue?vue&type=template&id=221f96e8&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=221f96e8&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\goodCashier\\\\web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-221f96e8\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=221f96e8&lang=less&scoped=true\"","import { inject } from \"vue\";\nconst TAB_STATUS_KEY = Symbol();\nconst useTabStatus = () => inject(TAB_STATUS_KEY, null);\nexport {\n  TAB_STATUS_KEY,\n  useTabStatus\n};\n"],"sourceRoot":""}