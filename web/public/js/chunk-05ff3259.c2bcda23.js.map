{"version":3,"sources":["webpack:///./src/components/viPrint/content.vue?cdc1","webpack:///./src/components/viPrint/content.vue","webpack:///./src/components/viPrint/content.vue?8783"],"names":["class","id","ref","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","Math","max","ceil","$options","printList","length","$data","pageSize","page","key","_hoisted_3","_hoisted_4","_toDisplayString","printConfig","title","_hoisted_5","address","phone","_hoisted_6","$props","data","name","_hoisted_7","today","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","tip","item","index","indexName","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","offset","_hoisted_16","_hoisted_17","_hoisted_18","standard","_hoisted_19","unit","_hoisted_20","count","_hoisted_21","hasNull","price","_hoisted_22","_hoisted_23","toFixed","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","remarks","_hoisted_28","_hoisted_29","_hoisted_30","totalPrice","_hoisted_31","_hoisted_32","_hoisted_33","repeat","_hoisted_34","total","_hoisted_35","props","list","type","Array","default","String","Object","webConfig","JSON","parse","sessionStorage","getItem","print","Date","format","parseInt","computed","fcl","this","filter","isBulk","bulk","arr","unitReverse","reverse","split","map","num","join","replace","methods","some","undefined","__exports__","render"],"mappings":"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","file":"public/js/chunk-05ff3259.c2bcda23.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./content.vue?vue&type=style&index=0&id=e5a6d932&lang=less&scoped=true\"","<!--\r\n * @Author: zzx\r\n * @Date: 2023-11-10 19:47:26\r\n * @LastEditors: zzx\r\n * @LastEditTime: 2023-12-31 20:23:23\r\n-->\r\n<template>\r\n  <div class=\"print-wrapper\">\r\n    <div id=\"print-content\" ref=\"box\">\r\n      <div class=\"table\" v-for=\"page in Math.max(Math.ceil(printList.length / pageSize), 1)\" :key=\"page\">\r\n        <div class=\"table-header\">\r\n          <h2 class=\"header-title\">{{ printConfig.title }}</h2>\r\n          <div class=\"header-msg\">\r\n            <p>地址：{{ printConfig.address }}</p>\r\n            <p>联系电话：{{ printConfig.phone }}</p>\r\n          </div>\r\n          <div class=\"header-msg\">\r\n            <p>客户名称：{{ data.name }}</p>\r\n            <p v-if=\"printList.length\">{{ today }}</p>\r\n            <p v-else>年<span class=\"ml-22\">月</span><span class=\"ml-22\">日</span></p>\r\n          </div>\r\n        </div>\r\n        <div class=\"table-right\">\r\n          <p>\r\n            <template v-for=\"(item, index) in printConfig.tip\" :key=\"index\">\r\n              <span>{{ indexName[index] }}</span>\r\n              {{ item[0] }}\r\n              <span>︵</span>{{ item[1] }}<span>︶</span>\r\n            </template>\r\n          </p>\r\n        </div>\r\n        <div class=\"thead\">\r\n          <div class=\"tr\">\r\n            <p class=\"index\">序号</p>\r\n            <p class=\"name\">名称</p>\r\n            <p class=\"standard\">规格</p>\r\n            <p class=\"unit\">单位</p>\r\n            <p class=\"count\">数量</p>\r\n            <p class=\"price\">单价</p>\r\n            <p class=\"subtotal\">小计</p>\r\n            <p class=\"remarks\">备注</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"tbody\">\r\n          <div class=\"tr\" v-for=\"offset in pageSize\" :key=\"offset\">\r\n            <p class=\"index\">{{ (page - 1) * pageSize + offset }}</p>\r\n            <p class=\"name\">{{ item(page, offset).name }}</p>\r\n            <p class=\"standard\">{{ item(page, offset).standard }}</p>\r\n            <p class=\"unit\">{{ item(page, offset).unit }}</p>\r\n            <p class=\"count\">{{ item(page, offset).count }}</p>\r\n            <p class=\"price\">\r\n              <span v-if=\"hasNull(item(page, offset).price)\"></span>\r\n              <span v-else>￥{{ item(page, offset).price.toFixed(2) }}</span>\r\n            </p>\r\n            <p class=\"subtotal\">\r\n              <span v-if=\"hasNull(item(page, offset).price, item(page, offset).count)\"></span>\r\n              <span v-else>￥{{ (item(page, offset).price * item(page, offset).count).toFixed(2) }}</span>\r\n            </p>\r\n            <p class=\"remarks\">{{ item(page, offset).remarks }}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"tfoot\">\r\n          <div class=\"tr flex-bc\">\r\n            <h3 v-if=\"page * pageSize >= printList.length\">总计：{{ totalPrice }}</h3>\r\n            <h3 v-else>总计：</h3>\r\n            <h3 class=\"plr\">\r\n              <span class=\"line\">￥{{ \"_\".repeat(15) }}</span>\r\n              <span class=\"num\" v-if=\"printList.length && page * pageSize >= printList.length\">{{ total }}</span>\r\n            </h3>\r\n          </div>\r\n        </div>\r\n        <div class=\"no-print split-line\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"viPrintContent\",\r\n  props: {\r\n    list: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      }\r\n    },\r\n    total: {\r\n      type: String,\r\n      default: \"0.00\"\r\n    },\r\n    data: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    const webConfig = JSON.parse(sessionStorage.getItem(\"webConfig\") || \"{}\");\r\n    return {\r\n      printConfig: webConfig.print || {},\r\n      indexName: [\"①\", \"②\", \"③\"],\r\n      today: new Date().format(\"YYYY 年 MM 月 DD 日\"),\r\n      pageSize: parseInt((490 - 115) / 29),\r\n    };\r\n  },\r\n  computed: {\r\n    printList() {\r\n      const fcl = this.list.filter((item) => !item.isBulk);\r\n      const bulk = this.list.filter((item) => item.isBulk);\r\n      return [...fcl, ...bulk];\r\n    },\r\n    item() {\r\n      return (page, offset) => this.printList[(page - 1) * this.pageSize + offset - 1] || {};\r\n    },\r\n    totalPrice() {\r\n      if (+this.total == 0) return \"\";\r\n      const arr = [\"零\", \"壹\", \"贰\", \"叁\", \"肆\", \"伍\", \"陆\", \"柒\", \"捌\", \"玖\", \"拾\"];\r\n      const unit = [\"佰\", \"拾\", \"万\", \"仟\", \"佰\", \"拾\", \"元\", \"角\", \"分\"];\r\n      const unitReverse = unit.reverse();\r\n      const list = (+this.total).toFixed(2).split(\"\").reverse().filter((item) => item !== \".\");\r\n      return list\r\n        .map((num, index) => `${arr[num]}${unitReverse[index]}`)\r\n        .reverse()\r\n        .join(\"\")\r\n        .replace(/(零[^元万])+/g, \"零\") // 元、万必带\r\n        .replace(/零+/g, \"零\")\r\n        .replace(/零万零?/g, \"万零\") // 几十万后面要带零\r\n        .replace(/(?<=.)零元/g, \"元\")\r\n        .replace(/零$/g, \"\")\r\n        .replace(/元$/g, \"元整\"); // 以元结尾的加整\r\n    },\r\n  },\r\n  methods: {\r\n    hasNull(...arr) {\r\n      return arr.some((item) => item === null || item === undefined);\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.ml-22 {\r\n  margin-left: 23px;\r\n}\r\n.split-line {\r\n  width: 100%;\r\n  margin: 10px 0;\r\n  border-bottom: 1px solid #CCC;\r\n}\r\n.print-wrapper {\r\n  position: fixed;\r\n  left: 9999px;\r\n  width: 845px;\r\n}\r\n#print-content {\r\n  .table {\r\n    width: calc(100% - 22px);\r\n    page-break-before: avoid;\r\n    page-break-after: always;\r\n    page-break-inside: avoid;\r\n    position: relative;\r\n    .table-header {\r\n      .header-title {\r\n        text-align: center;\r\n        line-height: 35px;\r\n      }\r\n      .header-msg {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        font-weight: 600;\r\n        margin-bottom: 3px;\r\n      }\r\n    }\r\n    .table-right {\r\n      position: absolute;\r\n      right: -25px;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      writing-mode: vertical-rl; /* 从上到下排列 */\r\n    }\r\n    .thead > .tr {\r\n      font-weight: 600;\r\n      border-top: 1px solid black;\r\n    }\r\n    .tfoot {\r\n      position: relative;\r\n      .line {\r\n        display: inline-block;\r\n        width: 120px;\r\n        overflow: hidden;\r\n      }\r\n      .num {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 50%;\r\n        transform: translateX(-50% + 10px);\r\n      }\r\n    }\r\n    .tr {\r\n      height: 28px;\r\n      display: flex;\r\n      & > p {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        justify-content: center;\r\n        align-items: center;\r\n        text-align: center;\r\n        line-height: 14px;\r\n        page-break-inside: avoid;\r\n        border-right: 1px solid black;\r\n        border-bottom: 1px solid black;\r\n        &:nth-child(1) {\r\n          border-left: 1px solid black;\r\n        }\r\n      }\r\n      .index {\r\n        width: 40px;\r\n        flex: none;\r\n      }\r\n      .name {\r\n        flex: 2;\r\n      }\r\n      .standard {\r\n        width: 100px;\r\n        flex: none;\r\n      }\r\n      .unit, .price, .subtotal {\r\n        width: 80px;\r\n        flex: none;\r\n      }\r\n      .count {\r\n        width: 60px;\r\n        flex: none;\r\n      }\r\n      .remarks {\r\n        flex: 1;\r\n      }\r\n    }\r\n  }\r\n}\r\n@media print {\r\n  #print-content {\r\n    @page: {\r\n      size: B5 landscape; // landscape横向，portrait纵向\r\n      margin: 0.6cm 1cm; // 1cm = 28.34646px\r\n    }\r\n    .no-print {\r\n      display: none;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./content.vue?vue&type=template&id=e5a6d932&scoped=true\"\nimport script from \"./content.vue?vue&type=script&lang=js\"\nexport * from \"./content.vue?vue&type=script&lang=js\"\n\nimport \"./content.vue?vue&type=style&index=0&id=e5a6d932&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\goodCashier\\\\web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e5a6d932\"]])\n\nexport default __exports__"],"sourceRoot":""}