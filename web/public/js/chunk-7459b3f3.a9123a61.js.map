{"version":3,"sources":["webpack:///./src/views/goodMng/addGoodModal.vue","webpack:///./src/views/goodMng/addGoodModal.vue?b93f","webpack:///./node_modules/clone/clone.js","webpack:///./src/constant/index.js","webpack:///./src/viewsMobile/mobileEnter/index.vue","webpack:///./src/viewsMobile/mobileEnter/index.vue?7ae9","webpack:///./src/viewsMobile/mobileEnter/index.vue?d642"],"names":["_createBlock","_component_Modal","title","$options","showModal","$event","width","class-name","footer","_withCtx","_createVNode","_component_Button","type","onClick","_cache","submit","loading","$data","_component_Form","ref","model","formData","rules","label-width","onKeydown","_withKeys","class","_component_FormItem","label","prop","_component_viInput","name","standard","unit","_component_viInputNumber","price","min","step","_component_RadioGroup","_createElementBlock","_Fragment","_renderList","TYPE_MAP","item","key","_component_Radio","$props","showCount","count","integer","props","modelValue","Boolean","default","detailData","Object","data","verifyName","async","rule","value","callback","this","verifyGoods","Error","required","message","validator","trigger","computed","goodId","get","set","val","$emit","watch","deep","handler","$refs","form","resetFields","clone","methods","validate","valid","$Message","error","_index","_rowKey","params","saveGoods","success","err","__exports__","render","_instanceof","obj","nativeMap","nativeSet","nativePromise","Map","_","Set","Promise","parent","circular","depth","prototype","includeNonEnumerable","allParents","allChildren","useBuffer","Buffer","_clone","child","proto","resolve","reject","then","__isArray","__isRegExp","RegExp","source","__getRegExpFlags","lastIndex","__isDate","Date","getTime","isBuffer","allocUnsafe","length","copy","create","getPrototypeOf","index","indexOf","push","i","forEach","keyChild","valueChild","entryChild","add","attrs","getOwnPropertyDescriptor","getOwnPropertySymbols","symbols","symbol","descriptor","enumerable","defineProperty","allPropertyNames","getOwnPropertyNames","propertyName","Infinity","__objToStr","o","toString","call","re","flags","global","ignoreCase","multiline","clonePrototype","c","module","exports","1","99","IS_BULK","_hoisted_1","_component_Icon","size","changeModal","_component_Spin","fix","show","_component_vi_scan","close-after-scan","onScan","_component_add_good_modal","showGoodModal","onSave","saveData","components","viScan","addGoodModal","$EventBus","scan","openScan","barcode","code","msg","getGoodDetailFree","goodsName","info"],"mappings":"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","file":"public/js/chunk-7459b3f3.a9123a61.js","sourcesContent":["<template>\r\n  <Modal :title=\"title\" v-model=\"showModal\" :width=\"400\" class-name=\"vertical-center-modal\">\r\n    <Form ref=\"form\" :model=\"formData\" :rules=\"rules\" :label-width=\"60\" @keydown.enter=\"submit\" class=\"plr\">\r\n      <FormItem label=\"名称:\" prop=\"name\">\r\n        <viInput v-model=\"formData.name\"></viInput>\r\n      </FormItem>\r\n      <FormItem label=\"规格:\" prop=\"standard\">\r\n        <viInput v-model=\"formData.standard\"></viInput>\r\n      </FormItem>\r\n      <FormItem label=\"单位:\" prop=\"unit\">\r\n        <viInput v-model=\"formData.unit\"></viInput>\r\n      </FormItem>\r\n      <FormItem label=\"单价:\" prop=\"price\">\r\n        <viInputNumber v-model=\"formData.price\" :min=\"0\" :step=\"0.5\"></viInputNumber>\r\n      </FormItem>\r\n      <FormItem label=\"种类:\" prop=\"type\">\r\n        <RadioGroup v-model=\"formData.type\">\r\n          <Radio v-for=\"(item, key) in TYPE_MAP\" :key=\"key\" :label=\"key\">{{ item }}</Radio>\r\n        </RadioGroup>\r\n      </FormItem>\r\n      <FormItem label=\"数量:\" prop=\"count\" v-if=\"showCount\">\r\n        <viInputNumber v-model=\"formData.count\" integer :min=\"0\"></viInputNumber>\r\n      </FormItem>\r\n    </Form>\r\n    <template #footer>\r\n      <Button type=\"text\" @click=\"showModal = false\">取消</Button>\r\n      <Button type=\"primary\" @click=\"submit\" :loading=\"loading\">确定</Button>\r\n    </template>\r\n  </Modal>\r\n</template>\r\n\r\n<script>\r\nimport { saveGoods, verifyGoods } from \"@/axios\";\r\nimport { TYPE_MAP } from \"@/constant\";\r\nimport clone from \"clone\";\r\n\r\nexport default {\r\n  name: \"addGoodModal\",\r\n  props: {\r\n    modelValue: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    detailData: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      }\r\n    },\r\n    showCount: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    const verifyName = async (rule, value, callback) => {\r\n      if (value && this.detailData.name !== this.formData.name) {\r\n        const { data } = await verifyGoods({\r\n          name: value,\r\n        }) || {};\r\n        if (data) {\r\n          return callback(new Error(\"该商品名称已存在\"));\r\n        }\r\n      }\r\n      callback();\r\n    };\r\n    return {\r\n      TYPE_MAP,\r\n      formData: {},\r\n      rules: {\r\n        name: [\r\n          { required: true, message: \"请输入商品名称\" },\r\n          { validator: verifyName, trigger: \"blur\", }\r\n        ],\r\n      },\r\n      loading: false,\r\n    };\r\n  },\r\n  computed: {\r\n    title() {\r\n      return `${!this.detailData.goodId ? \"新增\" : \"编辑\"}商品`;\r\n    },\r\n    showModal: {\r\n      get() {\r\n        return this.modelValue;\r\n      },\r\n      set(val) {\r\n        this.$emit(\"update:modelValue\", val);\r\n        if (!val) {\r\n          this.$emit(\"close\");\r\n        }\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    detailData: {\r\n      deep: true,\r\n      handler() {\r\n        this.$refs.form.resetFields();\r\n        this.formData = clone(this.detailData);\r\n      },\r\n    }\r\n  },\r\n  methods: {\r\n    submit() {\r\n      this.loading = true;\r\n      this.$refs.form.validate(async (valid) => {\r\n        if (!valid) {\r\n          this.$Message.error(\"数据校验不通过\");\r\n          this.loading = false;\r\n          return;\r\n        }\r\n        try {\r\n          const { _index, _rowKey, count, ...params } = this.formData;\r\n          const { data } = await saveGoods(params) || {};\r\n          if (data) {\r\n            this.$Message.success(`${this.title}成功`);\r\n            this.$emit(\"save\", { ...this.formData });\r\n            this.$refs.form.resetFields();\r\n            this.showModal = false;\r\n          }\r\n        } catch (err) {\r\n          this.$Message.error(`请求失败：${err.message || err}`);\r\n        } finally {\r\n          this.loading = false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import { render } from \"./addGoodModal.vue?vue&type=template&id=35760676\"\nimport script from \"./addGoodModal.vue?vue&type=script&lang=js\"\nexport * from \"./addGoodModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\goodCashier\\\\web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","export const TYPE_MAP = {\r\n  1: \"整件\",\r\n  99: \"散装\",\r\n};\r\n\r\nexport const IS_BULK = (item) => item.type == \"99\";\r\n","<!--\r\n * @Author: zzx\r\n * @Date: 2023-09-14 19:58:57\r\n * @LastEditors: zzx\r\n * @LastEditTime: 2023-12-17 17:08:14\r\n-->\r\n\r\n<template>\r\n  <div class=\"plr\">\r\n    <Icon\r\n      type=\"ios-add\"\r\n      size=\"34\"\r\n      @click=\"changeModal()\"\r\n      class=\"header-icon right\"\r\n    />\r\n    <Spin fix :show=\"loading\"></Spin>\r\n    <vi-scan ref=\"scan\" close-after-scan @scan=\"onScan\"></vi-scan>\r\n    <add-good-modal v-model=\"showGoodModal\" :detailData=\"detailData\" @save=\"saveData\"></add-good-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { viScan } from \"@/components\";\r\nimport addGoodModal from \"@/views/goodMng/addGoodModal\";\r\nimport { getGoodDetailFree } from \"@/axios\";\r\n\r\nexport default {\r\n  name: \"mobileEnter\",\r\n  components: { viScan, addGoodModal },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      showGoodModal: false,\r\n      detailData: {},\r\n    };\r\n  },\r\n  methods: {\r\n    saveData() {\r\n      this.$EventBus.$emit(\"saveGood\");\r\n      this.$refs.scan.openScan();\r\n    },\r\n    async onScan(barcode) {\r\n      try {\r\n        this.loading = true;\r\n        const { data: { code, msg, data } } = await getGoodDetailFree(barcode) || {};\r\n        if (code == 1) {\r\n          this.detailData = {\r\n            name: data.goodsName,\r\n            standard: data.standard,\r\n            price: +data.price,\r\n          };\r\n        } else {\r\n          this.detailData = {};\r\n          this.$Message.info(`${msg}\\n免费接口查不到信息\\n自己填吧`);\r\n        }\r\n        this.showGoodModal = true;\r\n      } catch (err) {\r\n        this.$Message.error(`获取商品信息失败：${err.message || err}`);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    changeModal(data) {\r\n      this.detailData = { ...data };\r\n      this.showGoodModal = true;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.header-icon {\r\n  position: fixed;\r\n  top: 23px;\r\n  transform: translateY(-50%);\r\n  &.right {\r\n    right: 10px;\r\n  }\r\n  &.left {\r\n    left: 10px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=aae2d978&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=aae2d978&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\goodCashier\\\\web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-aae2d978\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=aae2d978&lang=less&scoped=true\""],"sourceRoot":""}