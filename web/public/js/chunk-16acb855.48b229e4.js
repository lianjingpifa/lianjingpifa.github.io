(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16acb855"],{"186d":function(e,t,n){"use strict";n("61c6")},"61c6":function(e,t,n){},"7abe":function(e,t,n){"use strict";n.r(t);var a=n("7a23");const i={class:"home"},s={class:"home-nav"},c={class:"title"},o={class:"home-content"},m={class:"home-container"};function r(e,t,n,r,l,u){const d=Object(a["resolveComponent"])("Icon"),h=Object(a["resolveComponent"])("Badge"),b=Object(a["resolveComponent"])("MenuItem"),p=Object(a["resolveComponent"])("Menu"),O=Object(a["resolveComponent"])("router-view");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",i,[Object(a["createElementVNode"])("div",s,[Object(a["createElementVNode"])("p",c,Object(a["toDisplayString"])(l.APPNAME),1),Object(a["createVNode"])(d,{type:"md-exit",size:"20",title:"退出登陆",onClick:l.logout,class:"pointer"},null,8,["onClick"])]),Object(a["createElementVNode"])("div",o,[Object(a["createVNode"])(p,{"active-name":l.activeMenu,class:"home-menu"},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(l.routeList,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:t,name:e.name,to:"/"+e.name},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{type:e.icon,size:"20"},null,8,["type"]),Object(a["createVNode"])(h,{count:l.badge[e.name]||0,"overflow-count":"99",class:"menu-badge"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.title),1)]),_:2},1032,["count"])]),_:2},1032,["name","to"]))),128))]),_:1},8,["active-name"]),Object(a["createElementVNode"])("div",m,[Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])(({Component:e})=>[(Object(a["openBlock"])(),Object(a["createBlock"])(a["KeepAlive"],null,[(Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(e)))],1024))]),_:1})])])])}const l=["href","target"];function u(e,t,n,i,s,c){return e.to?(Object(a["openBlock"])(),Object(a["createElementBlock"])("a",{key:0,href:e.linkUrl,target:e.target,class:Object(a["normalizeClass"])(c.classes),onClick:[t[0]||(t[0]=Object(a["withModifiers"])(e=>c.handleClickItem(e,!1),["exact"])),t[1]||(t[1]=Object(a["withModifiers"])(e=>c.handleClickItem(e,!0),["ctrl"])),t[2]||(t[2]=Object(a["withModifiers"])(e=>c.handleClickItem(e,!0),["meta"]))],style:Object(a["normalizeStyle"])(c.itemStyle)},[Object(a["renderSlot"])(e.$slots,"default")],14,l)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:1,class:Object(a["normalizeClass"])(c.classes),onClick:t[3]||(t[3]=Object(a["withModifiers"])((...e)=>c.handleClickItem&&c.handleClickItem(...e),["stop"])),style:Object(a["normalizeStyle"])(c.itemStyle)},[Object(a["renderSlot"])(e.$slots,"default")],6))}n("14d9");var d=n("694c"),h=n("d19d"),b={inject:{MenuInstance:{default:null},SubmenuInstance:{default:null}},data(){return{menu:this.MenuInstance}},computed:{hasParentSubmenu(){return!!this.SubmenuInstance},parentSubmenuNum(){return Object(d["d"])(this,"Submenu").length},mode(){return this.MenuInstance.mode}}},p=n("59af");const O="ivu-menu";var v={name:"MenuItem",mixins:[b,p["a"]],props:{name:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},data(){return{active:!1,id:Object(h["a"])(6)}},computed:{classes(){return[O+"-item",{[O+"-item-active"]:this.active,[O+"-item-selected"]:this.active,[O+"-item-disabled"]:this.disabled}]},itemStyle(){return this.hasParentSubmenu&&"horizontal"!==this.mode?{paddingLeft:43+24*(this.parentSubmenuNum-1)+"px"}:{}}},methods:{handleClickItem(e,t=!1){if(!this.disabled)if(t||"_blank"===this.target){this.handleCheckClick(e,t);let n=Object(d["c"])(this,"Menu");n&&n.handleEmitSelectEvent(this.name)}else{let n=Object(d["c"])(this,"Submenu");n?this.SubmenuInstance.handleMenuItemSelect(this.name):this.MenuInstance.handleMenuItemSelect(this.name),this.handleCheckClick(e,t)}},handleUpdateActiveName(e){this.name===e?(this.active=!0,this.SubmenuInstance&&this.SubmenuInstance.handleUpdateActiveName(e)):this.active=!1},addMenuItem(){const e=this.MenuInstance;e.menuItemList||(e.menuItemList=[]),e.menuItemList.push({id:this.id,menuitem:this})},removeMenuItem(){const e=this.MenuInstance;if(e.menuItemList&&e.menuItemList.length){const t=e.menuItemList.findIndex(e=>e.id===this.id);e.menuItemList.splice(t,1)}}},mounted(){this.addMenuItem()},beforeUnmount(){this.removeMenuItem()}},j=n("6b0d"),f=n.n(j);const g=f()(v,[["render",u]]);var N=g,k=N;function M(e,t,n,i,s,c){return Object(a["openBlock"])(),Object(a["createElementBlock"])("ul",{class:Object(a["normalizeClass"])(c.classes),style:Object(a["normalizeStyle"])(c.styles)},[Object(a["renderSlot"])(e.$slots,"default")],6)}const I="ivu-menu";var y={name:"Menu",emits:["on-select","on-open-change"],provide(){return{MenuInstance:this}},props:{mode:{validator(e){return Object(d["h"])(e,["horizontal","vertical"])},default:"vertical"},theme:{validator(e){return Object(d["h"])(e,["light","dark","primary"])},default:"light"},activeName:{type:[String,Number]},openNames:{type:Array,default(){return[]}},accordion:{type:Boolean,default:!1},width:{type:String,default:"240px"}},data(){return{currentActiveName:this.activeName,openedNames:[],submenuList:[],menuItemList:[],ready:!1}},computed:{classes(){let e=this.theme;return"vertical"===this.mode&&"primary"===this.theme&&(e="light"),[""+I,`${I}-${e}`,{[`${I}-${this.mode}`]:this.mode}]},styles(){let e={};return"vertical"===this.mode&&(e.width=this.width),e}},methods:{updateActiveName(){void 0===this.currentActiveName&&(this.currentActiveName=-1),this.submenuList.map(e=>e.submenu).forEach(e=>{e.handleUpdateActiveName(!1)}),this.menuItemList.map(e=>e.menuitem).forEach(e=>{e.handleUpdateActiveName(this.currentActiveName)})},updateOpenKeys(e){let t=[...this.openedNames];const n=t.indexOf(e),a=this.submenuList.map(e=>e.submenu);if(this.accordion&&a.forEach(e=>{e.opened=!1}),n>=0){let t=null;a.forEach(n=>{n.name===e&&(t=n,n.opened=!1)}),Object(d["d"])(t,"Submenu").forEach(e=>{e.opened=!0}),t.childSubmenuList.map(e=>e.submenu).forEach(e=>{e.opened=!1})}else if(this.accordion){let t=null;a.forEach(n=>{n.name===e&&(t=n,n.opened=!0)}),Object(d["d"])(t,"Submenu").forEach(e=>{e.opened=!0})}else{const t=this.submenuList.map(e=>e.submenu);t.forEach(t=>{t.name===e&&(t.opened=!0)})}let i=a.filter(e=>e.opened).map(e=>e.name);this.openedNames=[...i],this.$emit("on-open-change",i)},updateOpened(){const e=(this.submenuList||[]).map(e=>e.submenu);e.length&&e.forEach(e=>{this.openedNames.indexOf(e.name)>-1?e.opened=!0:e.opened=!1})},handleEmitSelectEvent(e){this.$emit("on-select",e)},handleMenuItemSelect(e){this.currentActiveName=e,this.$emit("on-select",e)}},mounted(){this.openedNames=[...this.openNames],this.updateOpened(),Object(a["nextTick"])(()=>{this.updateActiveName(),this.ready=!0})},watch:{openNames(e){this.openedNames=e},activeName(e){this.currentActiveName=e},currentActiveName(){this.updateActiveName()}}};const C=f()(y,[["render",M]]);var S=C,E=S,w=n("eeb9"),A=n("ed08"),B={name:"home",components:{Menu:E,MenuItem:k},data(){return{APPNAME:window.APPNAME,activeMenu:this.$route.name,routeList:[{title:"出库管理",name:"cashierMng",icon:"ios-cart"},{title:"商品管理",name:"goodMng",icon:"ios-filing"},{title:"订单管理",name:"orderMng",icon:"ios-clipboard"},{title:"客户管理",name:"userMng",icon:"ios-people"},{title:"特价管理",name:"specialMng",icon:"ios-pricetag"},{title:"统计分析",name:"statistiAnalysis",icon:"ios-stats"},{title:"字典管理",name:"dictMng",icon:"ios-bookmark"}],badge:{},logout:A["i"]}},watch:{$route:{deep:!0,immediate:!0,handler({name:e}){this.activeMenu=e}}},methods:{async getDraftCount(){try{const{returnCode:e,data:t}=await Object(w["q"])()||{};0===e&&(this.badge.orderMng=t||0)}catch(e){this.$Message.error("获取草稿数量失败："+(e.message||e))}},async getAuditUserCount(){try{const{returnCode:e,data:t}=await Object(w["p"])()||{};0===e&&(this.badge.userMng=t||0)}catch(e){this.$Message.error("获取待审批数量失败："+(e.message||e))}}},mounted(){Object(A["d"])(),this.getDraftCount(),this.getAuditUserCount(),this.$EventBus.$on("saveOrder",this.getDraftCount)},beforeUnmount(){this.$EventBus.$off("saveOrder",this.getDraftCount)}};n("186d");const L=f()(B,[["render",r],["__scopeId","data-v-290362d0"]]);t["default"]=L}}]);