(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4286ef08"],{"7abe":function(e,t,n){"use strict";n.r(t);var a=n("7a23");const c=["href","target"];function i(e,t,n,i,s,o){return e.to?(Object(a["openBlock"])(),Object(a["createElementBlock"])("a",{key:0,href:e.linkUrl,target:e.target,class:Object(a["normalizeClass"])(o.classes),onClick:[t[0]||(t[0]=Object(a["withModifiers"])(e=>o.handleClickItem(e,!1),["exact"])),t[1]||(t[1]=Object(a["withModifiers"])(e=>o.handleClickItem(e,!0),["ctrl"])),t[2]||(t[2]=Object(a["withModifiers"])(e=>o.handleClickItem(e,!0),["meta"]))],style:Object(a["normalizeStyle"])(o.itemStyle)},[Object(a["renderSlot"])(e.$slots,"default")],14,c)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:1,class:Object(a["normalizeClass"])(o.classes),onClick:t[3]||(t[3]=Object(a["withModifiers"])((...e)=>o.handleClickItem&&o.handleClickItem(...e),["stop"])),style:Object(a["normalizeStyle"])(o.itemStyle)},[Object(a["renderSlot"])(e.$slots,"default")],6))}n("14d9");var s=n("694c"),o=n("d19d"),l={inject:{MenuInstance:{default:null},SubmenuInstance:{default:null}},data(){return{menu:this.MenuInstance}},computed:{hasParentSubmenu(){return!!this.SubmenuInstance},parentSubmenuNum(){return Object(s["d"])(this,"Submenu").length},mode(){return this.MenuInstance.mode}}},r=n("59af");const m="ivu-menu";var u={name:"MenuItem",mixins:[l,r["a"]],props:{name:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},data(){return{active:!1,id:Object(o["a"])(6)}},computed:{classes(){return[m+"-item",{[m+"-item-active"]:this.active,[m+"-item-selected"]:this.active,[m+"-item-disabled"]:this.disabled}]},itemStyle(){return this.hasParentSubmenu&&"horizontal"!==this.mode?{paddingLeft:43+24*(this.parentSubmenuNum-1)+"px"}:{}}},methods:{handleClickItem(e,t=!1){if(!this.disabled)if(t||"_blank"===this.target){this.handleCheckClick(e,t);let n=Object(s["c"])(this,"Menu");n&&n.handleEmitSelectEvent(this.name)}else{let n=Object(s["c"])(this,"Submenu");n?this.SubmenuInstance.handleMenuItemSelect(this.name):this.MenuInstance.handleMenuItemSelect(this.name),this.handleCheckClick(e,t)}},handleUpdateActiveName(e){this.name===e?(this.active=!0,this.SubmenuInstance&&this.SubmenuInstance.handleUpdateActiveName(e)):this.active=!1},addMenuItem(){const e=this.MenuInstance;e.menuItemList||(e.menuItemList=[]),e.menuItemList.push({id:this.id,menuitem:this})},removeMenuItem(){const e=this.MenuInstance;if(e.menuItemList&&e.menuItemList.length){const t=e.menuItemList.findIndex(e=>e.id===this.id);e.menuItemList.splice(t,1)}}},mounted(){this.addMenuItem()},beforeUnmount(){this.removeMenuItem()}},d=n("6b0d"),h=n.n(d);const b=h()(u,[["render",i]]);var p=b,O=p;function j(e,t,n,c,i,s){return Object(a["openBlock"])(),Object(a["createElementBlock"])("ul",{class:Object(a["normalizeClass"])(s.classes),style:Object(a["normalizeStyle"])(s.styles)},[Object(a["renderSlot"])(e.$slots,"default")],6)}const v="ivu-menu";var f={name:"Menu",emits:["on-select","on-open-change"],provide(){return{MenuInstance:this}},props:{mode:{validator(e){return Object(s["h"])(e,["horizontal","vertical"])},default:"vertical"},theme:{validator(e){return Object(s["h"])(e,["light","dark","primary"])},default:"light"},activeName:{type:[String,Number]},openNames:{type:Array,default(){return[]}},accordion:{type:Boolean,default:!1},width:{type:String,default:"240px"}},data(){return{currentActiveName:this.activeName,openedNames:[],submenuList:[],menuItemList:[],ready:!1}},computed:{classes(){let e=this.theme;return"vertical"===this.mode&&"primary"===this.theme&&(e="light"),[""+v,`${v}-${e}`,{[`${v}-${this.mode}`]:this.mode}]},styles(){let e={};return"vertical"===this.mode&&(e.width=this.width),e}},methods:{updateActiveName(){void 0===this.currentActiveName&&(this.currentActiveName=-1),this.submenuList.map(e=>e.submenu).forEach(e=>{e.handleUpdateActiveName(!1)}),this.menuItemList.map(e=>e.menuitem).forEach(e=>{e.handleUpdateActiveName(this.currentActiveName)})},updateOpenKeys(e){let t=[...this.openedNames];const n=t.indexOf(e),a=this.submenuList.map(e=>e.submenu);if(this.accordion&&a.forEach(e=>{e.opened=!1}),n>=0){let t=null;a.forEach(n=>{n.name===e&&(t=n,n.opened=!1)}),Object(s["d"])(t,"Submenu").forEach(e=>{e.opened=!0}),t.childSubmenuList.map(e=>e.submenu).forEach(e=>{e.opened=!1})}else if(this.accordion){let t=null;a.forEach(n=>{n.name===e&&(t=n,n.opened=!0)}),Object(s["d"])(t,"Submenu").forEach(e=>{e.opened=!0})}else{const t=this.submenuList.map(e=>e.submenu);t.forEach(t=>{t.name===e&&(t.opened=!0)})}let c=a.filter(e=>e.opened).map(e=>e.name);this.openedNames=[...c],this.$emit("on-open-change",c)},updateOpened(){const e=(this.submenuList||[]).map(e=>e.submenu);e.length&&e.forEach(e=>{this.openedNames.indexOf(e.name)>-1?e.opened=!0:e.opened=!1})},handleEmitSelectEvent(e){this.$emit("on-select",e)},handleMenuItemSelect(e){this.currentActiveName=e,this.$emit("on-select",e)}},mounted(){this.openedNames=[...this.openNames],this.updateOpened(),Object(a["nextTick"])(()=>{this.updateActiveName(),this.ready=!0})},watch:{openNames(e){this.openedNames=e},activeName(e){this.currentActiveName=e},currentActiveName(){this.updateActiveName()}}};const N=h()(f,[["render",j]]);var k=N,I=k,y=n("eeb9"),g=n("ed08"),S=n("6605");const M={class:"home"},w={class:"home-nav"},C={class:"title"},E={class:"home-content"},B={class:"home-container"};var A={__name:"index",setup(e){const t=Object(S["c"])(),n=Object(a["inject"])("$Message",()=>{}),c=Object(a["ref"])(window.APPNAME),i=Object(a["ref"])(t.name),s=[{title:"出库管理",name:"cashierMng",icon:"ios-cart"},{title:"商品管理",name:"goodMng",icon:"ios-filing"},{title:"订单管理",name:"orderMng",icon:"ios-clipboard"},{title:"客户管理",name:"userMng",icon:"ios-people"},{title:"特价管理",name:"specialMng",icon:"ios-pricetag"},{title:"统计分析",name:"statistiAnalysis",icon:"ios-stats"},{title:"字典管理",name:"dictMng",icon:"ios-bookmark"}];Object(a["watch"])(()=>t,({name:e})=>{i.value=e});const o=Object(a["ref"])({});async function l(){try{const{returnCode:e,data:t}=await Object(y["q"])()||{};0===e&&(o.value.orderMng=t||0)}catch(e){n.error("获取草稿数量失败："+(e.message||e))}}async function r(){try{const{returnCode:e,data:t}=await Object(y["p"])()||{};0===e&&(o.value.userMng=t||0)}catch(e){n.error("获取待审批数量失败："+(e.message||e))}}return Object(a["onMounted"])(()=>{Object(g["e"])(),l(),r(),window.$EventBus.$on("saveOrder",l)}),Object(a["onBeforeUnmount"])(()=>{window.$EventBus.$off("saveOrder",l)}),(e,t)=>{const n=Object(a["resolveComponent"])("Icon"),l=Object(a["resolveComponent"])("Badge"),r=Object(a["resolveComponent"])("router-view");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",M,[Object(a["createElementVNode"])("div",w,[Object(a["createElementVNode"])("p",C,Object(a["toDisplayString"])(c.value),1),Object(a["createVNode"])(n,{type:"md-exit",size:"20",title:"退出登陆",onClick:Object(a["unref"])(g["j"]),class:"pointer"},null,8,["onClick"])]),Object(a["createElementVNode"])("div",E,[Object(a["createVNode"])(Object(a["unref"])(I),{"active-name":i.value,class:"home-menu"},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(s,(e,t)=>Object(a["createVNode"])(Object(a["unref"])(O),{key:t,name:e.name,to:"/"+e.name},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(n,{type:e.icon,size:"20"},null,8,["type"]),Object(a["createVNode"])(l,{count:o.value[e.name]||0,"overflow-count":"99",class:"menu-badge"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.title),1)]),_:2},1032,["count"])]),_:2},1032,["name","to"])),64))]),_:1},8,["active-name"]),Object(a["createElementVNode"])("div",B,[Object(a["createVNode"])(r,null,{default:Object(a["withCtx"])(({Component:e})=>[(Object(a["openBlock"])(),Object(a["createBlock"])(a["KeepAlive"],null,[(Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(e)))],1024))]),_:1})])])])}}};n("c0e2");const L=h()(A,[["__scopeId","data-v-4d7a1e5e"]]);t["default"]=L},c0e2:function(e,t,n){"use strict";n("fbf0")},fbf0:function(e,t,n){}}]);